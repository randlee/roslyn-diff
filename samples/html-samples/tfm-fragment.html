<link rel="stylesheet" href="tfm-fragment.css">

<div class="roslyn-diff-fragment"
     data-old-file="old-conditional-code.cs"
     data-new-file="new-conditional-code.cs"
     data-changes-total="19"
     data-changes-added="7"
     data-changes-removed="0"
     data-changes-modified="12"
     data-impact-breaking-public="19"
     data-impact-breaking-internal="0"
     data-impact-non-breaking="0"
     data-impact-formatting="0"
     data-mode="roslyn">
    <header>
        <div class="header-title-row">
            <div class="header-title-left">
                <h1>Diff Report</h1>
                <div class="header-stats">
                    <span class="stat-inline">19 changes</span>
                    <span class="stat-separator">|</span>
                    <span class="stat-inline" style="color: var(--color-added-border);">+7 added</span>
                    <span class="stat-separator">|</span>
                    <span class="stat-inline" style="color: var(--color-modified-border);">~12 modified</span>
                    <span class="stat-separator">|</span>
                    <span class="stat-inline">Mode: Roslyn Semantic</span>
                    <span class="stat-separator">|</span>
                    <span class="stat-inline">Frameworks: .NET 8.0, .NET 10.0</span>
                </div>
            </div>
            <span class="header-timestamp">Jan 29, 2026 12:38 PM</span>
        </div>
        <div class="file-info">
            <div class="file-row">
                <div class="file-row-left">
                    <span class="file-path-label">Old file:</span>
                    <span class="file-path" id="old-path" data-path="/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/old-conditional-code.cs">/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/old-conditional-code.cs</span>
                </div>
                <div class="file-actions">
                    <button class="action-btn icon-only" onclick="copyPathWithNotification(this, '/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/old-conditional-code.cs')" title="Copy full path to clipboard">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"/></svg>
                    </button>
                    <button class="action-btn icon-only" onclick="copyPathWithNotification(this, '/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm')" title="Copy folder path to clipboard">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M1.75 2h5.5c.551 0 1.064.278 1.365.737l.43.645A.25.25 0 009.25 3.5h5A1.75 1.75 0 0116 5.25v8A1.75 1.75 0 0114.25 15H1.75A1.75 1.75 0 010 13.25V3.75C0 2.784.784 2 1.75 2zm0 1.5a.25.25 0 00-.25.25v9.5c0 .138.112.25.25.25h12.5a.25.25 0 00.25-.25v-8a.25.25 0 00-.25-.25H9.25a1.75 1.75 0 01-1.458-.79l-.429-.644a.25.25 0 00-.208-.11z"/></svg>
                    </button>
                    <button class="action-btn editor-btn icon-only" data-editor="vscode" onclick="openInEditor('/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/old-conditional-code.cs', 'vscode')" title="Open file in VS Code">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M14.25 1a.74.74 0 00-.218.033L10.7 2.252l-4.5 4-3.5-2.8a.75.75 0 00-.946.086l-.75.75a.75.75 0 00.033 1.09L4.5 8l-3.463 2.622a.75.75 0 00-.033 1.09l.75.75a.75.75 0 00.946.086l3.5-2.8 4.5 4 3.332 1.22A.74.74 0 0015 14.25V1.75a.75.75 0 00-.75-.75zM11 12.12L7.28 8 11 3.88v8.24z"/></svg>
                    </button>
                    <button class="action-btn editor-btn icon-only" data-editor="rider" onclick="openInEditor('/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/old-conditional-code.cs', 'rider')" title="Open file in Rider">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 0v16h16V0H0zm13.2 2.8c.4.5.6 1 .6 1.7 0 .5-.1.9-.3 1.3-.2.4-.6.7-1 .9l1.6 2.5h-2.2l-1.4-2.2H8.8v2.2H7V2.1h3.7c.6 0 1.1.1 1.5.3.4.2.8.3 1 .4zM7 12h6v1.2H7V12z"/><path d="M8.8 3.6v2h1.3c.3 0 .6-.1.8-.3.2-.2.3-.4.3-.7s-.1-.5-.3-.7c-.2-.2-.5-.3-.8-.3H8.8z"/></svg>
                    </button>
                    <button class="action-btn editor-btn icon-only" data-editor="pycharm" onclick="openInEditor('/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/old-conditional-code.cs', 'pycharm')" title="Open file in PyCharm">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 0v16h16V0H0zm2 13h5v1H2v-1zm6.3-5.5c-.1.4-.4.7-.8.9l1.2 1.8h-1.5l-1-1.5H5v1.5H3.5V4.5h2.8c.5 0 .9.1 1.2.3.3.2.5.4.7.7.1.3.2.6.2 1 0 .4-.1.7-.1 1zm-.9-1c0-.2-.1-.4-.2-.5-.1-.2-.3-.2-.5-.2H5v1.5h1.7c.2 0 .4-.1.5-.2.1-.2.2-.4.2-.6z"/></svg>
                    </button>
                    <button class="action-btn editor-btn icon-only" data-editor="zed" onclick="openInEditor('/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/old-conditional-code.cs', 'zed')" title="Open file in Zed">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M2.5 1L13 1L15 3.5L15 14.5L13 16L3 16L1 13.5L1 2.5L2.5 1ZM3.5 3L3 3.5L3 12.5L4 14L12 14L13 12.5L13 4L12 3L3.5 3ZM5 5L11 5L11 6.5L7.5 11L11 11L11 13L5 13L5 11.5L8.5 7L5 7L5 5Z"/></svg>
                    </button>
                </div>
            </div>
            <div class="file-row">
                <div class="file-row-left">
                    <span class="file-path-label">New file:</span>
                    <span class="file-path" id="new-path" data-path="/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/new-conditional-code.cs">/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/new-conditional-code.cs</span>
                </div>
                <div class="file-actions">
                    <button class="action-btn icon-only" onclick="copyPathWithNotification(this, '/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/new-conditional-code.cs')" title="Copy full path to clipboard">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"/></svg>
                    </button>
                    <button class="action-btn icon-only" onclick="copyPathWithNotification(this, '/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm')" title="Copy folder path to clipboard">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M1.75 2h5.5c.551 0 1.064.278 1.365.737l.43.645A.25.25 0 009.25 3.5h5A1.75 1.75 0 0116 5.25v8A1.75 1.75 0 0114.25 15H1.75A1.75 1.75 0 010 13.25V3.75C0 2.784.784 2 1.75 2zm0 1.5a.25.25 0 00-.25.25v9.5c0 .138.112.25.25.25h12.5a.25.25 0 00.25-.25v-8a.25.25 0 00-.25-.25H9.25a1.75 1.75 0 01-1.458-.79l-.429-.644a.25.25 0 00-.208-.11z"/></svg>
                    </button>
                    <button class="action-btn editor-btn icon-only" data-editor="vscode" onclick="openInEditor('/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/new-conditional-code.cs', 'vscode')" title="Open file in VS Code">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M14.25 1a.74.74 0 00-.218.033L10.7 2.252l-4.5 4-3.5-2.8a.75.75 0 00-.946.086l-.75.75a.75.75 0 00.033 1.09L4.5 8l-3.463 2.622a.75.75 0 00-.033 1.09l.75.75a.75.75 0 00.946.086l3.5-2.8 4.5 4 3.332 1.22A.74.74 0 0015 14.25V1.75a.75.75 0 00-.75-.75zM11 12.12L7.28 8 11 3.88v8.24z"/></svg>
                    </button>
                    <button class="action-btn editor-btn icon-only" data-editor="rider" onclick="openInEditor('/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/new-conditional-code.cs', 'rider')" title="Open file in Rider">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 0v16h16V0H0zm13.2 2.8c.4.5.6 1 .6 1.7 0 .5-.1.9-.3 1.3-.2.4-.6.7-1 .9l1.6 2.5h-2.2l-1.4-2.2H8.8v2.2H7V2.1h3.7c.6 0 1.1.1 1.5.3.4.2.8.3 1 .4zM7 12h6v1.2H7V12z"/><path d="M8.8 3.6v2h1.3c.3 0 .6-.1.8-.3.2-.2.3-.4.3-.7s-.1-.5-.3-.7c-.2-.2-.5-.3-.8-.3H8.8z"/></svg>
                    </button>
                    <button class="action-btn editor-btn icon-only" data-editor="pycharm" onclick="openInEditor('/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/new-conditional-code.cs', 'pycharm')" title="Open file in PyCharm">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 0v16h16V0H0zm2 13h5v1H2v-1zm6.3-5.5c-.1.4-.4.7-.8.9l1.2 1.8h-1.5l-1-1.5H5v1.5H3.5V4.5h2.8c.5 0 .9.1 1.2.3.3.2.5.4.7.7.1.3.2.6.2 1 0 .4-.1.7-.1 1zm-.9-1c0-.2-.1-.4-.2-.5-.1-.2-.3-.2-.5-.2H5v1.5h1.7c.2 0 .4-.1.5-.2.1-.2.2-.4.2-.6z"/></svg>
                    </button>
                    <button class="action-btn editor-btn icon-only" data-editor="zed" onclick="openInEditor('/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/new-conditional-code.cs', 'zed')" title="Open file in Zed">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M2.5 1L13 1L15 3.5L15 14.5L13 16L3 16L1 13.5L1 2.5L2.5 1ZM3.5 3L3 3.5L3 12.5L4 14L12 14L13 12.5L13 4L12 3L3.5 3ZM5 5L11 5L11 6.5L7.5 11L11 11L11 13L5 13L5 11.5L8.5 7L5 7L5 5Z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </header>
    <main>
        <section class="file-diff" id="file-new-conditional-code-69f0156e">
            <div class="file-header">
                <h2>new-conditional-code.cs</h2>
            </div>
            <div class="top-diff-header" onclick="toggleTopDiff('file-new-conditional-code-69f0156e-top-diff')" data-file-json="{&quot;path&quot;:&quot;/Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/new-conditional-code.cs&quot;,&quot;changes&quot;:[{&quot;type&quot;:&quot;Modified&quot;,&quot;kind&quot;:&quot;Namespace&quot;,&quot;name&quot;:&quot;ConditionalDemo&quot;,&quot;oldLine&quot;:1,&quot;newLine&quot;:1,&quot;oldContent&quot;:&quot;namespace ConditionalDemo;\r\n/// &lt;summary&gt;\n/// Example class demonstrating TFM-specific conditional compilation.\n/// This is the \&quot;old\&quot; version before changes were made.\n/// &lt;/summary&gt;\npublic class ApiClient\r\n{\r\n    private readonly HttpClient _httpClient;\r\n    public ApiClient(HttpClient httpClient)\r\n    {\r\n        _httpClient = httpClient;\r\n    }\r\n\r\n    // Method that exists in all TFMs - no changes\r\n    public async Task&lt;string&gt; GetDataAsync(string endpoint)\r\n    {\r\n        var response = await _httpClient.GetAsync(endpoint);\r\n        response.EnsureSuccessStatusCode();\r\n        return await response.Content.ReadAsStringAsync();\r\n    }\r\n\r\n#if NET8_0_OR_GREATER\r\n    // This method only exists in .NET 8.0 and later\r\n    // Will be modified in the new version\r\n    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)\r\n    {\r\n        var json = await GetDataAsync(endpoint);\r\n        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;\r\n    }\r\n#endif\r\n#if NET10_0_OR_GREATER\r\n    // This method only exists in .NET 10.0 and later\n    // Uses newer APIs available in NET10\n    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)\n    {\n        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);\n        response.EnsureSuccessStatusCode();\n        return await response.Content.ReadAsStreamAsync();\n    }\n#endif\r\n// Legacy method that exists in older frameworks\r\n#if !NET8_0_OR_GREATER\r\n    public string GetDataSync(string endpoint)\n    {\n        // Synchronous version for older frameworks\n        var response = _httpClient.GetAsync(endpoint).GetAwaiter().GetResult();\n        response.EnsureSuccessStatusCode();\n        return response.Content.ReadAsStringAsync().GetAwaiter().GetResult();\n    }\n#endif\r\n}\r\n\r\n/// &lt;summary&gt;\n/// Configuration class with TFM-specific settings.\n/// &lt;/summary&gt;\npublic class AppConfiguration\r\n{\r\n    public string ApiBaseUrl { get; set; } = \&quot;https://api.example.com\&quot;;\r\n    public int TimeoutSeconds { get; set; } = 30;\r\n#if NET8_0_OR_GREATER\r\n    // Modern configuration using newer .NET features\r\n    public required string ApiKey { get; set; }\r\n#else\r\n    // Fallback for older frameworks without required properties\n    public string ApiKey { get; set; } = string.Empty;\n#endif\r\n#if NET10_0_OR_GREATER\r\n    // New property only in NET10.0+\n    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;\n#endif\r\n}&quot;,&quot;newContent&quot;:&quot;namespace ConditionalDemo;\r\n/// &lt;summary&gt;\n/// Example class demonstrating TFM-specific conditional compilation.\n/// This is the \&quot;new\&quot; version with various TFM-specific changes.\n/// &lt;/summary&gt;\npublic class ApiClient\r\n{\r\n    private readonly HttpClient _httpClient;\r\n    public ApiClient(HttpClient httpClient)\r\n    {\r\n        _httpClient = httpClient;\r\n    }\r\n\r\n    // Method that exists in all TFMs - modified across all frameworks\r\n    public async Task&lt;string&gt; GetDataAsync(string endpoint)\r\n    {\r\n        var response = await _httpClient.GetAsync(endpoint);\r\n        response.EnsureSuccessStatusCode();\r\n        // Added logging - applies to all TFMs\r\n        Console.WriteLine($\&quot;Fetched data from {endpoint}\&quot;);\r\n        return await response.Content.ReadAsStringAsync();\r\n    }\r\n\r\n#if NET8_0_OR_GREATER\r\n    // This method was modified - change applies only to NET8.0+\r\n    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)\r\n        where T : class\r\n    {\r\n        // Added constraint and improved implementation\r\n        var json = await GetDataAsync(endpoint);\r\n        var options = new System.Text.Json.JsonSerializerOptions\r\n        {\r\n            PropertyNameCaseInsensitive = true\r\n        };\r\n        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;\r\n    }\r\n\r\n    // New method added only for NET8.0+ (not in NET10)\r\n    public async Task&lt;bool&gt; HealthCheckAsync()\r\n    {\r\n        try\r\n        {\r\n            var response = await _httpClient.GetAsync(\&quot;/health\&quot;);\r\n            return response.IsSuccessStatusCode;\r\n        }\r\n        catch\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n#endif\r\n#if NET10_0_OR_GREATER\r\n    // This method exists unchanged in NET10.0\n    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)\n    {\n        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);\n        response.EnsureSuccessStatusCode();\n        return await response.Content.ReadAsStreamAsync();\n    }\n\n    // New method added only for NET10.0+\n    public async Task&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(string endpoint, CancellationToken cancellationToken = default) where T : class\n    {\n        var response = await _httpClient.GetAsync(endpoint, cancellationToken);\n        response.EnsureSuccessStatusCode();\n        var stream = await response.Content.ReadAsStreamAsync(cancellationToken);\n        return await System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? throw new InvalidOperationException(\&quot;Deserialization failed\&quot;);\n    }\n#endif\r\n// Legacy method that exists in older frameworks - removed in new version\r\n// (This entire block is deleted in the new version)\r\n}\r\n\r\n/// &lt;summary&gt;\n/// Configuration class with TFM-specific settings.\n/// &lt;/summary&gt;\npublic class AppConfiguration\r\n{\r\n    public string ApiBaseUrl { get; set; } = \&quot;https://api.example.com\&quot;;\r\n    // Modified in all TFMs - changed default value\r\n    public int TimeoutSeconds { get; set; } = 60;\r\n#if NET8_0_OR_GREATER\r\n    // Modern configuration using newer .NET features - unchanged\r\n    public required string ApiKey { get; set; }\r\n\r\n#else\r\n    // Fallback for older frameworks - modified with better default\n    public string ApiKey { get; set; } = \&quot;default-key\&quot;;\n#endif\r\n#if NET10_0_OR_GREATER\r\n    // Existing property - unchanged\n    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;\n\n    // New property added only in NET10.0+\n    public bool EnableMetrics { get; set; } = true;\n#endif\r\n    // New method added to all TFMs\r\n    public void Validate()\r\n    {\r\n        if (string.IsNullOrEmpty(ApiBaseUrl))\r\n            throw new InvalidOperationException(\&quot;ApiBaseUrl is required\&quot;);\r\n        if (string.IsNullOrEmpty(ApiKey))\r\n            throw new InvalidOperationException(\&quot;ApiKey is required\&quot;);\r\n    }\r\n}&quot;},{&quot;type&quot;:&quot;Modified&quot;,&quot;kind&quot;:&quot;Namespace&quot;,&quot;name&quot;:&quot;ConditionalDemo&quot;,&quot;oldLine&quot;:1,&quot;newLine&quot;:1,&quot;oldContent&quot;:&quot;namespace ConditionalDemo;\r\n/// &lt;summary&gt;\n/// Example class demonstrating TFM-specific conditional compilation.\n/// This is the \&quot;old\&quot; version before changes were made.\n/// &lt;/summary&gt;\npublic class ApiClient\r\n{\r\n    private readonly HttpClient _httpClient;\r\n    public ApiClient(HttpClient httpClient)\r\n    {\r\n        _httpClient = httpClient;\r\n    }\r\n\r\n    // Method that exists in all TFMs - no changes\r\n    public async Task&lt;string&gt; GetDataAsync(string endpoint)\r\n    {\r\n        var response = await _httpClient.GetAsync(endpoint);\r\n        response.EnsureSuccessStatusCode();\r\n        return await response.Content.ReadAsStringAsync();\r\n    }\r\n\r\n#if NET8_0_OR_GREATER\r\n    // This method only exists in .NET 8.0 and later\r\n    // Will be modified in the new version\r\n    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)\r\n    {\r\n        var json = await GetDataAsync(endpoint);\r\n        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;\r\n    }\r\n\r\n#endif\r\n#if NET10_0_OR_GREATER\r\n    // This method only exists in .NET 10.0 and later\r\n    // Uses newer APIs available in NET10\r\n    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)\r\n    {\r\n        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);\r\n        response.EnsureSuccessStatusCode();\r\n        return await response.Content.ReadAsStreamAsync();\r\n    }\r\n#endif\r\n// Legacy method that exists in older frameworks\r\n#if !NET8_0_OR_GREATER\r\n    public string GetDataSync(string endpoint)\n    {\n        // Synchronous version for older frameworks\n        var response = _httpClient.GetAsync(endpoint).GetAwaiter().GetResult();\n        response.EnsureSuccessStatusCode();\n        return response.Content.ReadAsStringAsync().GetAwaiter().GetResult();\n    }\n#endif\r\n}\r\n\r\n/// &lt;summary&gt;\n/// Configuration class with TFM-specific settings.\n/// &lt;/summary&gt;\npublic class AppConfiguration\r\n{\r\n    public string ApiBaseUrl { get; set; } = \&quot;https://api.example.com\&quot;;\r\n    public int TimeoutSeconds { get; set; } = 30;\r\n#if NET8_0_OR_GREATER\r\n    // Modern configuration using newer .NET features\r\n    public required string ApiKey { get; set; }\r\n#else\r\n    // Fallback for older frameworks without required properties\n    public string ApiKey { get; set; } = string.Empty;\n#endif\r\n#if NET10_0_OR_GREATER\r\n    // New property only in NET10.0+\r\n    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;\r\n#endif\r\n}&quot;,&quot;newContent&quot;:&quot;namespace ConditionalDemo;\r\n/// &lt;summary&gt;\n/// Example class demonstrating TFM-specific conditional compilation.\n/// This is the \&quot;new\&quot; version with various TFM-specific changes.\n/// &lt;/summary&gt;\npublic class ApiClient\r\n{\r\n    private readonly HttpClient _httpClient;\r\n    public ApiClient(HttpClient httpClient)\r\n    {\r\n        _httpClient = httpClient;\r\n    }\r\n\r\n    // Method that exists in all TFMs - modified across all frameworks\r\n    public async Task&lt;string&gt; GetDataAsync(string endpoint)\r\n    {\r\n        var response = await _httpClient.GetAsync(endpoint);\r\n        response.EnsureSuccessStatusCode();\r\n        // Added logging - applies to all TFMs\r\n        Console.WriteLine($\&quot;Fetched data from {endpoint}\&quot;);\r\n        return await response.Content.ReadAsStringAsync();\r\n    }\r\n\r\n#if NET8_0_OR_GREATER\r\n    // This method was modified - change applies only to NET8.0+\r\n    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)\r\n        where T : class\r\n    {\r\n        // Added constraint and improved implementation\r\n        var json = await GetDataAsync(endpoint);\r\n        var options = new System.Text.Json.JsonSerializerOptions\r\n        {\r\n            PropertyNameCaseInsensitive = true\r\n        };\r\n        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;\r\n    }\r\n\r\n    // New method added only for NET8.0+ (not in NET10)\r\n    public async Task&lt;bool&gt; HealthCheckAsync()\r\n    {\r\n        try\r\n        {\r\n            var response = await _httpClient.GetAsync(\&quot;/health\&quot;);\r\n            return response.IsSuccessStatusCode;\r\n        }\r\n        catch\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n#endif\r\n#if NET10_0_OR_GREATER\r\n    // This method exists unchanged in NET10.0\r\n    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)\r\n    {\r\n        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);\r\n        response.EnsureSuccessStatusCode();\r\n        return await response.Content.ReadAsStreamAsync();\r\n    }\r\n\r\n    // New method added only for NET10.0+\r\n    public async Task&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(string endpoint, CancellationToken cancellationToken = default)\r\n        where T : class\r\n    {\r\n        var response = await _httpClient.GetAsync(endpoint, cancellationToken);\r\n        response.EnsureSuccessStatusCode();\r\n        var stream = await response.Content.ReadAsStreamAsync(cancellationToken);\r\n        return await System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? throw new InvalidOperationException(\&quot;Deserialization failed\&quot;);\r\n    }\r\n#endif\r\n// Legacy method that exists in older frameworks - removed in new version\r\n// (This entire block is deleted in the new version)\r\n}\r\n\r\n/// &lt;summary&gt;\n/// Configuration class with TFM-specific settings.\n/// &lt;/summary&gt;\npublic class AppConfiguration\r\n{\r\n    public string ApiBaseUrl { get; set; } = \&quot;https://api.example.com\&quot;;\r\n    // Modified in all TFMs - changed default value\r\n    public int TimeoutSeconds { get; set; } = 60;\r\n#if NET8_0_OR_GREATER\r\n    // Modern configuration using newer .NET features - unchanged\r\n    public required string ApiKey { get; set; }\r\n#else\r\n    // Fallback for older frameworks - modified with better default\n    public string ApiKey { get; set; } = \&quot;default-key\&quot;;\n#endif\r\n#if NET10_0_OR_GREATER\r\n    // Existing property - unchanged\r\n    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;\r\n    // New property added only in NET10.0+\r\n    public bool EnableMetrics { get; set; } = true;\r\n\r\n#endif\r\n    // New method added to all TFMs\r\n    public void Validate()\r\n    {\r\n        if (string.IsNullOrEmpty(ApiBaseUrl))\r\n            throw new InvalidOperationException(\&quot;ApiBaseUrl is required\&quot;);\r\n        if (string.IsNullOrEmpty(ApiKey))\r\n            throw new InvalidOperationException(\&quot;ApiKey is required\&quot;);\r\n    }\r\n}\r\n\r\n#if NET10_0_OR_GREATER\r\n/// &lt;summary&gt;\n/// Entirely new class that only exists in NET10.0+\n/// &lt;/summary&gt;\npublic class MetricsCollector\r\n{\r\n    private readonly TimeProvider _timeProvider;\r\n    public MetricsCollector(TimeProvider timeProvider)\r\n    {\r\n        _timeProvider = timeProvider;\r\n    }\r\n\r\n    public void RecordRequest(string endpoint, TimeSpan duration)\r\n    {\r\n        Console.WriteLine($\&quot;[{_timeProvider.GetUtcNow()}] {endpoint}: {duration.TotalMilliseconds}ms\&quot;);\r\n    }\r\n}&quot;}]}" data-file-diff="--- /Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/old-conditional-code.cs
+++ /Users/randlee/Documents/github/roslyn-diff-worktrees/feature/html-samples-generation/samples/multi-tfm/new-conditional-code.cs
@@ -1,71 +1,105 @@ ConditionalDemo
-namespace ConditionalDemo;
-/// &lt;summary&gt;
-/// Example class demonstrating TFM-specific conditional compilation.
-/// This is the &quot;old&quot; version before changes were made.
-/// &lt;/summary&gt;
-public class ApiClient
-{
-    private readonly HttpClient _httpClient;
-    public ApiClient(HttpClient httpClient)
-    {
-        _httpClient = httpClient;
-    }
-
-    // Method that exists in all TFMs - no changes
-    public async Task&lt;string&gt; GetDataAsync(string endpoint)
-    {
-        var response = await _httpClient.GetAsync(endpoint);
-        response.EnsureSuccessStatusCode();
-        return await response.Content.ReadAsStringAsync();
-    }
-
-#if NET8_0_OR_GREATER
-    // This method only exists in .NET 8.0 and later
-    // Will be modified in the new version
-    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
-    {
-        var json = await GetDataAsync(endpoint);
-        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;
-    }
-#endif
-#if NET10_0_OR_GREATER
-    // This method only exists in .NET 10.0 and later
-    // Uses newer APIs available in NET10
-    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
-    {
-        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
-        response.EnsureSuccessStatusCode();
-        return await response.Content.ReadAsStreamAsync();
-    }
-#endif
-// Legacy method that exists in older frameworks
-#if !NET8_0_OR_GREATER
-    public string GetDataSync(string endpoint)
-    {
-        // Synchronous version for older frameworks
-        var response = _httpClient.GetAsync(endpoint).GetAwaiter().GetResult();
-        response.EnsureSuccessStatusCode();
-        return response.Content.ReadAsStringAsync().GetAwaiter().GetResult();
-    }
-#endif
-}
-
-/// &lt;summary&gt;
-/// Configuration class with TFM-specific settings.
-/// &lt;/summary&gt;
-public class AppConfiguration
-{
-    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
-    public int TimeoutSeconds { get; set; } = 30;
-#if NET8_0_OR_GREATER
-    // Modern configuration using newer .NET features
-    public required string ApiKey { get; set; }
-#else
-    // Fallback for older frameworks without required properties
-    public string ApiKey { get; set; } = string.Empty;
-#endif
-#if NET10_0_OR_GREATER
-    // New property only in NET10.0+
-    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;
-#endif
-}
+namespace ConditionalDemo;
+/// &lt;summary&gt;
+/// Example class demonstrating TFM-specific conditional compilation.
+/// This is the &quot;new&quot; version with various TFM-specific changes.
+/// &lt;/summary&gt;
+public class ApiClient
+{
+    private readonly HttpClient _httpClient;
+    public ApiClient(HttpClient httpClient)
+    {
+        _httpClient = httpClient;
+    }
+
+    // Method that exists in all TFMs - modified across all frameworks
+    public async Task&lt;string&gt; GetDataAsync(string endpoint)
+    {
+        var response = await _httpClient.GetAsync(endpoint);
+        response.EnsureSuccessStatusCode();
+        // Added logging - applies to all TFMs
+        Console.WriteLine($&quot;Fetched data from {endpoint}&quot;);
+        return await response.Content.ReadAsStringAsync();
+    }
+
+#if NET8_0_OR_GREATER
+    // This method was modified - change applies only to NET8.0+
+    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
+        where T : class
+    {
+        // Added constraint and improved implementation
+        var json = await GetDataAsync(endpoint);
+        var options = new System.Text.Json.JsonSerializerOptions
+        {
+            PropertyNameCaseInsensitive = true
+        };
+        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;
+    }
+
+    // New method added only for NET8.0+ (not in NET10)
+    public async Task&lt;bool&gt; HealthCheckAsync()
+    {
+        try
+        {
+            var response = await _httpClient.GetAsync(&quot;/health&quot;);
+            return response.IsSuccessStatusCode;
+        }
+        catch
+        {
+            return false;
+        }
+    }
+#endif
+#if NET10_0_OR_GREATER
+    // This method exists unchanged in NET10.0
+    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
+    {
+        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
+        response.EnsureSuccessStatusCode();
+        return await response.Content.ReadAsStreamAsync();
+    }
+
+    // New method added only for NET10.0+
+    public async Task&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(string endpoint, CancellationToken cancellationToken = default) where T : class
+    {
+        var response = await _httpClient.GetAsync(endpoint, cancellationToken);
+        response.EnsureSuccessStatusCode();
+        var stream = await response.Content.ReadAsStreamAsync(cancellationToken);
+        return await System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? throw new InvalidOperationException(&quot;Deserialization failed&quot;);
+    }
+#endif
+// Legacy method that exists in older frameworks - removed in new version
+// (This entire block is deleted in the new version)
+}
+
+/// &lt;summary&gt;
+/// Configuration class with TFM-specific settings.
+/// &lt;/summary&gt;
+public class AppConfiguration
+{
+    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
+    // Modified in all TFMs - changed default value
+    public int TimeoutSeconds { get; set; } = 60;
+#if NET8_0_OR_GREATER
+    // Modern configuration using newer .NET features - unchanged
+    public required string ApiKey { get; set; }
+
+#else
+    // Fallback for older frameworks - modified with better default
+    public string ApiKey { get; set; } = &quot;default-key&quot;;
+#endif
+#if NET10_0_OR_GREATER
+    // Existing property - unchanged
+    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;
+
+    // New property added only in NET10.0+
+    public bool EnableMetrics { get; set; } = true;
+#endif
+    // New method added to all TFMs
+    public void Validate()
+    {
+        if (string.IsNullOrEmpty(ApiBaseUrl))
+            throw new InvalidOperationException(&quot;ApiBaseUrl is required&quot;);
+        if (string.IsNullOrEmpty(ApiKey))
+            throw new InvalidOperationException(&quot;ApiKey is required&quot;);
+    }
+}
@@ -1,72 +1,124 @@ ConditionalDemo
-namespace ConditionalDemo;
-/// &lt;summary&gt;
-/// Example class demonstrating TFM-specific conditional compilation.
-/// This is the &quot;old&quot; version before changes were made.
-/// &lt;/summary&gt;
-public class ApiClient
-{
-    private readonly HttpClient _httpClient;
-    public ApiClient(HttpClient httpClient)
-    {
-        _httpClient = httpClient;
-    }
-
-    // Method that exists in all TFMs - no changes
-    public async Task&lt;string&gt; GetDataAsync(string endpoint)
-    {
-        var response = await _httpClient.GetAsync(endpoint);
-        response.EnsureSuccessStatusCode();
-        return await response.Content.ReadAsStringAsync();
-    }
-
-#if NET8_0_OR_GREATER
-    // This method only exists in .NET 8.0 and later
-    // Will be modified in the new version
-    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
-    {
-        var json = await GetDataAsync(endpoint);
-        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;
-    }
-
-#endif
-#if NET10_0_OR_GREATER
-    // This method only exists in .NET 10.0 and later
-    // Uses newer APIs available in NET10
-    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
-    {
-        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
-        response.EnsureSuccessStatusCode();
-        return await response.Content.ReadAsStreamAsync();
-    }
-#endif
-// Legacy method that exists in older frameworks
-#if !NET8_0_OR_GREATER
-    public string GetDataSync(string endpoint)
-    {
-        // Synchronous version for older frameworks
-        var response = _httpClient.GetAsync(endpoint).GetAwaiter().GetResult();
-        response.EnsureSuccessStatusCode();
-        return response.Content.ReadAsStringAsync().GetAwaiter().GetResult();
-    }
-#endif
-}
-
-/// &lt;summary&gt;
-/// Configuration class with TFM-specific settings.
-/// &lt;/summary&gt;
-public class AppConfiguration
-{
-    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
-    public int TimeoutSeconds { get; set; } = 30;
-#if NET8_0_OR_GREATER
-    // Modern configuration using newer .NET features
-    public required string ApiKey { get; set; }
-#else
-    // Fallback for older frameworks without required properties
-    public string ApiKey { get; set; } = string.Empty;
-#endif
-#if NET10_0_OR_GREATER
-    // New property only in NET10.0+
-    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;
-#endif
-}
+namespace ConditionalDemo;
+/// &lt;summary&gt;
+/// Example class demonstrating TFM-specific conditional compilation.
+/// This is the &quot;new&quot; version with various TFM-specific changes.
+/// &lt;/summary&gt;
+public class ApiClient
+{
+    private readonly HttpClient _httpClient;
+    public ApiClient(HttpClient httpClient)
+    {
+        _httpClient = httpClient;
+    }
+
+    // Method that exists in all TFMs - modified across all frameworks
+    public async Task&lt;string&gt; GetDataAsync(string endpoint)
+    {
+        var response = await _httpClient.GetAsync(endpoint);
+        response.EnsureSuccessStatusCode();
+        // Added logging - applies to all TFMs
+        Console.WriteLine($&quot;Fetched data from {endpoint}&quot;);
+        return await response.Content.ReadAsStringAsync();
+    }
+
+#if NET8_0_OR_GREATER
+    // This method was modified - change applies only to NET8.0+
+    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
+        where T : class
+    {
+        // Added constraint and improved implementation
+        var json = await GetDataAsync(endpoint);
+        var options = new System.Text.Json.JsonSerializerOptions
+        {
+            PropertyNameCaseInsensitive = true
+        };
+        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;
+    }
+
+    // New method added only for NET8.0+ (not in NET10)
+    public async Task&lt;bool&gt; HealthCheckAsync()
+    {
+        try
+        {
+            var response = await _httpClient.GetAsync(&quot;/health&quot;);
+            return response.IsSuccessStatusCode;
+        }
+        catch
+        {
+            return false;
+        }
+    }
+
+#endif
+#if NET10_0_OR_GREATER
+    // This method exists unchanged in NET10.0
+    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
+    {
+        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
+        response.EnsureSuccessStatusCode();
+        return await response.Content.ReadAsStreamAsync();
+    }
+
+    // New method added only for NET10.0+
+    public async Task&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(string endpoint, CancellationToken cancellationToken = default)
+        where T : class
+    {
+        var response = await _httpClient.GetAsync(endpoint, cancellationToken);
+        response.EnsureSuccessStatusCode();
+        var stream = await response.Content.ReadAsStreamAsync(cancellationToken);
+        return await System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? throw new InvalidOperationException(&quot;Deserialization failed&quot;);
+    }
+#endif
+// Legacy method that exists in older frameworks - removed in new version
+// (This entire block is deleted in the new version)
+}
+
+/// &lt;summary&gt;
+/// Configuration class with TFM-specific settings.
+/// &lt;/summary&gt;
+public class AppConfiguration
+{
+    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
+    // Modified in all TFMs - changed default value
+    public int TimeoutSeconds { get; set; } = 60;
+#if NET8_0_OR_GREATER
+    // Modern configuration using newer .NET features - unchanged
+    public required string ApiKey { get; set; }
+#else
+    // Fallback for older frameworks - modified with better default
+    public string ApiKey { get; set; } = &quot;default-key&quot;;
+#endif
+#if NET10_0_OR_GREATER
+    // Existing property - unchanged
+    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;
+    // New property added only in NET10.0+
+    public bool EnableMetrics { get; set; } = true;
+
+#endif
+    // New method added to all TFMs
+    public void Validate()
+    {
+        if (string.IsNullOrEmpty(ApiBaseUrl))
+            throw new InvalidOperationException(&quot;ApiBaseUrl is required&quot;);
+        if (string.IsNullOrEmpty(ApiKey))
+            throw new InvalidOperationException(&quot;ApiKey is required&quot;);
+    }
+}
+
+#if NET10_0_OR_GREATER
+/// &lt;summary&gt;
+/// Entirely new class that only exists in NET10.0+
+/// &lt;/summary&gt;
+public class MetricsCollector
+{
+    private readonly TimeProvider _timeProvider;
+    public MetricsCollector(TimeProvider timeProvider)
+    {
+        _timeProvider = timeProvider;
+    }
+
+    public void RecordRequest(string endpoint, TimeSpan duration)
+    {
+        Console.WriteLine($&quot;[{_timeProvider.GetUtcNow()}] {endpoint}: {duration.TotalMilliseconds}ms&quot;);
+    }
+}
">
                <div class="top-diff-header-left">
                    <span class="expand-icon">â–¼</span>
                    <div class="top-diff-header-stats">
                        <span class="stat-inline">19 changes</span>
                        <span class="stat-added">+7 added</span>
                        <span class="stat-mode">Mode: Roslyn Semantic</span>
                    </div>
                </div>
                <div class="top-diff-header-buttons" onclick="event.stopPropagation()">
                    <button class="copy-btn" onclick="copyTopDiffAsJson(this)" title="Copy entire diff as JSON">JSON</button>
                    <button class="copy-btn" onclick="copyTopDiffAsDiff(this)" title="Copy entire diff in unified format">Diff</button>
                </div>
            </div>
            <div class="top-diff-content" id="file-new-conditional-code-69f0156e-top-diff">
                <div class="diff-container" id="file-new-conditional-code-69f0156e-content">
                <div class="diff-side diff-old">
                    <div class="diff-side-header">Old Version</div>
                    <div class="diff-content">
                        <div class="diff-line line-modified">
                            <span class="line-number">1</span>
                            <span class="line-content"><span class="keyword">namespace</span> ConditionalDemo;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">2</span>
                            <span class="line-content"><span class="comment">/// &lt;summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">3</span>
                            <span class="line-content"><span class="comment">/// Example <span class="keyword">class</span> demonstrating TFM-specific conditional compilation.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">4</span>
                            <span class="line-content"><span class="comment">/// This <span class="keyword">is</span> the <span class="string">&quot;old&quot;</span> version before changes were made.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">5</span>
                            <span class="line-content"><span class="comment">/// &lt;/summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">6</span>
                            <span class="line-content"><span class="keyword">public</span> <span class="keyword">class</span> ApiClient</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">7</span>
                            <span class="line-content">{</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">8</span>
                            <span class="line-content">    <span class="keyword">private</span> <span class="keyword">readonly</span> HttpClient _httpClient;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">9</span>
                            <span class="line-content">    <span class="keyword">public</span> ApiClient(HttpClient httpClient)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">10</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">11</span>
                            <span class="line-content">        _httpClient = httpClient;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">12</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">13</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">14</span>
                            <span class="line-content">    <span class="comment">// Method that exists <span class="keyword">in</span> all TFMs - no changes</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">15</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">string</span>&gt; GetDataAsync(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">16</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">17</span>
                            <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">18</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">19</span>
                            <span class="line-content">        <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStringAsync();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">20</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">21</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">22</span>
                            <span class="line-content">#<span class="keyword">if</span> NET8_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">23</span>
                            <span class="line-content">    <span class="comment">// This method only exists <span class="keyword">in</span> .NET <span class="number">8.0</span> <span class="keyword">and</span> later</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">24</span>
                            <span class="line-content">    <span class="comment">// Will be modified <span class="keyword">in</span> the <span class="keyword">new</span> version</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">25</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;T&gt; GetJsonAsync&lt;T&gt;(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">26</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">27</span>
                            <span class="line-content">        <span class="keyword">var</span> json = <span class="keyword">await</span> GetDataAsync(endpoint);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">28</span>
                            <span class="line-content">        <span class="keyword">return</span> System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">29</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">30</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">31</span>
                            <span class="line-content">#<span class="keyword">if</span> NET10_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">32</span>
                            <span class="line-content">    <span class="comment">// This method only exists <span class="keyword">in</span> .NET <span class="number">10.0</span> <span class="keyword">and</span> later</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">33</span>
                            <span class="line-content">    <span class="comment">// Uses newer APIs available <span class="keyword">in</span> NET10</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">34</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;Stream&gt; GetStreamAsync(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">35</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">36</span>
                            <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">37</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">38</span>
                            <span class="line-content">        <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStreamAsync();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">39</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">40</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">41</span>
                            <span class="line-content"><span class="comment">// Legacy method that exists <span class="keyword">in</span> older frameworks</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">42</span>
                            <span class="line-content">#<span class="keyword">if</span> !NET8_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">43</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">string</span> GetDataSync(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">44</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">45</span>
                            <span class="line-content">        <span class="comment">// Synchronous version <span class="keyword">for</span> older frameworks</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">46</span>
                            <span class="line-content">        <span class="keyword">var</span> response = _httpClient.GetAsync(endpoint).GetAwaiter().GetResult();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">47</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">48</span>
                            <span class="line-content">        <span class="keyword">return</span> response.Content.ReadAsStringAsync().GetAwaiter().GetResult();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">49</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">50</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">51</span>
                            <span class="line-content">}</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">52</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">53</span>
                            <span class="line-content"><span class="comment">/// &lt;summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">54</span>
                            <span class="line-content"><span class="comment">/// Configuration <span class="keyword">class</span> <span class="keyword">with</span> TFM-specific settings.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">55</span>
                            <span class="line-content"><span class="comment">/// &lt;/summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">56</span>
                            <span class="line-content"><span class="keyword">public</span> <span class="keyword">class</span> AppConfiguration</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">57</span>
                            <span class="line-content">{</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">58</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">string</span> ApiBaseUrl { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">&quot;https:<span class="comment">//api.example.com&quot;</span>;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">59</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">int</span> TimeoutSeconds { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="number">30</span>;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">60</span>
                            <span class="line-content">#<span class="keyword">if</span> NET8_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">61</span>
                            <span class="line-content">    <span class="comment">// Modern configuration <span class="keyword">using</span> newer .NET features</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">62</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">required</span> <span class="keyword">string</span> ApiKey { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">63</span>
                            <span class="line-content">#<span class="keyword">else</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">64</span>
                            <span class="line-content">    <span class="comment">// Fallback <span class="keyword">for</span> older frameworks without <span class="keyword">required</span> properties</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">65</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">string</span> ApiKey { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">string</span>.Empty;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">66</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">67</span>
                            <span class="line-content">#<span class="keyword">if</span> NET10_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">68</span>
                            <span class="line-content">    <span class="comment">// New property only <span class="keyword">in</span> NET10.<span class="number">0</span>+</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">69</span>
                            <span class="line-content">    <span class="keyword">public</span> TimeProvider TimeProvider { <span class="keyword">get</span>; <span class="keyword">set</span>; } = TimeProvider.System;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">70</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">71</span>
                            <span class="line-content">}</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">1</span>
                            <span class="line-content"><span class="keyword">namespace</span> ConditionalDemo;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">2</span>
                            <span class="line-content"><span class="comment">/// &lt;summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">3</span>
                            <span class="line-content"><span class="comment">/// Example <span class="keyword">class</span> demonstrating TFM-specific conditional compilation.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">4</span>
                            <span class="line-content"><span class="comment">/// This <span class="keyword">is</span> the <span class="string">&quot;old&quot;</span> version before changes were made.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">5</span>
                            <span class="line-content"><span class="comment">/// &lt;/summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">6</span>
                            <span class="line-content"><span class="keyword">public</span> <span class="keyword">class</span> ApiClient</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">7</span>
                            <span class="line-content">{</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">8</span>
                            <span class="line-content">    <span class="keyword">private</span> <span class="keyword">readonly</span> HttpClient _httpClient;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">9</span>
                            <span class="line-content">    <span class="keyword">public</span> ApiClient(HttpClient httpClient)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">10</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">11</span>
                            <span class="line-content">        _httpClient = httpClient;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">12</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">13</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">14</span>
                            <span class="line-content">    <span class="comment">// Method that exists <span class="keyword">in</span> all TFMs - no changes</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">15</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">string</span>&gt; GetDataAsync(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">16</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">17</span>
                            <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">18</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">19</span>
                            <span class="line-content">        <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStringAsync();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">20</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">21</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">22</span>
                            <span class="line-content">#<span class="keyword">if</span> NET8_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">23</span>
                            <span class="line-content">    <span class="comment">// This method only exists <span class="keyword">in</span> .NET <span class="number">8.0</span> <span class="keyword">and</span> later</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">24</span>
                            <span class="line-content">    <span class="comment">// Will be modified <span class="keyword">in</span> the <span class="keyword">new</span> version</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">25</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;T&gt; GetJsonAsync&lt;T&gt;(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">26</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">27</span>
                            <span class="line-content">        <span class="keyword">var</span> json = <span class="keyword">await</span> GetDataAsync(endpoint);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">28</span>
                            <span class="line-content">        <span class="keyword">return</span> System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">29</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">30</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">31</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">32</span>
                            <span class="line-content">#<span class="keyword">if</span> NET10_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">33</span>
                            <span class="line-content">    <span class="comment">// This method only exists <span class="keyword">in</span> .NET <span class="number">10.0</span> <span class="keyword">and</span> later</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">34</span>
                            <span class="line-content">    <span class="comment">// Uses newer APIs available <span class="keyword">in</span> NET10</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">35</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;Stream&gt; GetStreamAsync(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">36</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">37</span>
                            <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">38</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">39</span>
                            <span class="line-content">        <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStreamAsync();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">40</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">41</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">42</span>
                            <span class="line-content"><span class="comment">// Legacy method that exists <span class="keyword">in</span> older frameworks</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">43</span>
                            <span class="line-content">#<span class="keyword">if</span> !NET8_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">44</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">string</span> GetDataSync(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">45</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">46</span>
                            <span class="line-content">        <span class="comment">// Synchronous version <span class="keyword">for</span> older frameworks</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">47</span>
                            <span class="line-content">        <span class="keyword">var</span> response = _httpClient.GetAsync(endpoint).GetAwaiter().GetResult();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">48</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">49</span>
                            <span class="line-content">        <span class="keyword">return</span> response.Content.ReadAsStringAsync().GetAwaiter().GetResult();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">50</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">51</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">52</span>
                            <span class="line-content">}</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">53</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">54</span>
                            <span class="line-content"><span class="comment">/// &lt;summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">55</span>
                            <span class="line-content"><span class="comment">/// Configuration <span class="keyword">class</span> <span class="keyword">with</span> TFM-specific settings.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">56</span>
                            <span class="line-content"><span class="comment">/// &lt;/summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">57</span>
                            <span class="line-content"><span class="keyword">public</span> <span class="keyword">class</span> AppConfiguration</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">58</span>
                            <span class="line-content">{</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">59</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">string</span> ApiBaseUrl { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">&quot;https:<span class="comment">//api.example.com&quot;</span>;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">60</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">int</span> TimeoutSeconds { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="number">30</span>;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">61</span>
                            <span class="line-content">#<span class="keyword">if</span> NET8_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">62</span>
                            <span class="line-content">    <span class="comment">// Modern configuration <span class="keyword">using</span> newer .NET features</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">63</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">required</span> <span class="keyword">string</span> ApiKey { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">64</span>
                            <span class="line-content">#<span class="keyword">else</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">65</span>
                            <span class="line-content">    <span class="comment">// Fallback <span class="keyword">for</span> older frameworks without <span class="keyword">required</span> properties</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">66</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">string</span> ApiKey { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">string</span>.Empty;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">67</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">68</span>
                            <span class="line-content">#<span class="keyword">if</span> NET10_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">69</span>
                            <span class="line-content">    <span class="comment">// New property only <span class="keyword">in</span> NET10.<span class="number">0</span>+</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">70</span>
                            <span class="line-content">    <span class="keyword">public</span> TimeProvider TimeProvider { <span class="keyword">get</span>; <span class="keyword">set</span>; } = TimeProvider.System;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">71</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">72</span>
                            <span class="line-content">}</span>
                        </div>
                    </div>
                </div>
                <div class="diff-side diff-new">
                    <div class="diff-side-header">New Version</div>
                    <div class="diff-content">
                        <div class="diff-line line-modified">
                            <span class="line-number">1</span>
                            <span class="line-content"><span class="keyword">namespace</span> ConditionalDemo;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">2</span>
                            <span class="line-content"><span class="comment">/// &lt;summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">3</span>
                            <span class="line-content"><span class="comment">/// Example <span class="keyword">class</span> demonstrating TFM-specific conditional compilation.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">4</span>
                            <span class="line-content"><span class="comment">/// This <span class="keyword">is</span> the <span class="string">&quot;<span class="keyword">new</span>&quot;</span> version <span class="keyword">with</span> various TFM-specific changes.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">5</span>
                            <span class="line-content"><span class="comment">/// &lt;/summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">6</span>
                            <span class="line-content"><span class="keyword">public</span> <span class="keyword">class</span> ApiClient</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">7</span>
                            <span class="line-content">{</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">8</span>
                            <span class="line-content">    <span class="keyword">private</span> <span class="keyword">readonly</span> HttpClient _httpClient;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">9</span>
                            <span class="line-content">    <span class="keyword">public</span> ApiClient(HttpClient httpClient)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">10</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">11</span>
                            <span class="line-content">        _httpClient = httpClient;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">12</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">13</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">14</span>
                            <span class="line-content">    <span class="comment">// Method that exists <span class="keyword">in</span> all TFMs - modified across all frameworks</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">15</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">string</span>&gt; GetDataAsync(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">16</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">17</span>
                            <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">18</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">19</span>
                            <span class="line-content">        <span class="comment">// Added logging - applies to all TFMs</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">20</span>
                            <span class="line-content">        Console.WriteLine($<span class="string">&quot;Fetched data from {endpoint}&quot;</span>);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">21</span>
                            <span class="line-content">        <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStringAsync();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">22</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">23</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">24</span>
                            <span class="line-content">#<span class="keyword">if</span> NET8_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">25</span>
                            <span class="line-content">    <span class="comment">// This method was modified - change applies only to NET8.<span class="number">0</span>+</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">26</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;T&gt; GetJsonAsync&lt;T&gt;(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">27</span>
                            <span class="line-content">        <span class="keyword">where</span> T : <span class="keyword">class</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">28</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">29</span>
                            <span class="line-content">        <span class="comment">// Added constraint <span class="keyword">and</span> improved implementation</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">30</span>
                            <span class="line-content">        <span class="keyword">var</span> json = <span class="keyword">await</span> GetDataAsync(endpoint);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">31</span>
                            <span class="line-content">        <span class="keyword">var</span> options = <span class="keyword">new</span> System.Text.Json.JsonSerializerOptions</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">32</span>
                            <span class="line-content">        {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">33</span>
                            <span class="line-content">            PropertyNameCaseInsensitive = <span class="keyword">true</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">34</span>
                            <span class="line-content">        };</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">35</span>
                            <span class="line-content">        <span class="keyword">return</span> System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">36</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">37</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">38</span>
                            <span class="line-content">    <span class="comment">// New method added only <span class="keyword">for</span> NET8.<span class="number">0</span>+ (<span class="keyword">not</span> <span class="keyword">in</span> NET10)</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">39</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">bool</span>&gt; HealthCheckAsync()</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">40</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">41</span>
                            <span class="line-content">        <span class="keyword">try</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">42</span>
                            <span class="line-content">        {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">43</span>
                            <span class="line-content">            <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(<span class="string">&quot;/health&quot;</span>);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">44</span>
                            <span class="line-content">            <span class="keyword">return</span> response.IsSuccessStatusCode;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">45</span>
                            <span class="line-content">        }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">46</span>
                            <span class="line-content">        <span class="keyword">catch</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">47</span>
                            <span class="line-content">        {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">48</span>
                            <span class="line-content">            <span class="keyword">return</span> <span class="keyword">false</span>;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">49</span>
                            <span class="line-content">        }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">50</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">51</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">52</span>
                            <span class="line-content">#<span class="keyword">if</span> NET10_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">53</span>
                            <span class="line-content">    <span class="comment">// This method exists unchanged <span class="keyword">in</span> NET10.<span class="number">0</span></span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">54</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;Stream&gt; GetStreamAsync(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">55</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">56</span>
                            <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">57</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">58</span>
                            <span class="line-content">        <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStreamAsync();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">59</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">60</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">61</span>
                            <span class="line-content">    <span class="comment">// New method added only <span class="keyword">for</span> NET10.<span class="number">0</span>+</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">62</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(<span class="keyword">string</span> endpoint, CancellationToken cancellationToken = <span class="keyword">default</span>) <span class="keyword">where</span> T : <span class="keyword">class</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">63</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">64</span>
                            <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint, cancellationToken);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">65</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">66</span>
                            <span class="line-content">        <span class="keyword">var</span> stream = <span class="keyword">await</span> response.Content.ReadAsStreamAsync(cancellationToken);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">67</span>
                            <span class="line-content">        <span class="keyword">return</span> <span class="keyword">await</span> System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvalidOperationException</span>(<span class="string">&quot;Deserialization failed&quot;</span>);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">68</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">69</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">70</span>
                            <span class="line-content"><span class="comment">// Legacy method that exists <span class="keyword">in</span> older frameworks - removed <span class="keyword">in</span> <span class="keyword">new</span> version</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">71</span>
                            <span class="line-content"><span class="comment">// (This entire block <span class="keyword">is</span> deleted <span class="keyword">in</span> the <span class="keyword">new</span> version)</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">72</span>
                            <span class="line-content">}</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">73</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">74</span>
                            <span class="line-content"><span class="comment">/// &lt;summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">75</span>
                            <span class="line-content"><span class="comment">/// Configuration <span class="keyword">class</span> <span class="keyword">with</span> TFM-specific settings.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">76</span>
                            <span class="line-content"><span class="comment">/// &lt;/summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">77</span>
                            <span class="line-content"><span class="keyword">public</span> <span class="keyword">class</span> AppConfiguration</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">78</span>
                            <span class="line-content">{</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">79</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">string</span> ApiBaseUrl { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">&quot;https:<span class="comment">//api.example.com&quot;</span>;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">80</span>
                            <span class="line-content">    <span class="comment">// Modified <span class="keyword">in</span> all TFMs - changed <span class="keyword">default</span> <span class="keyword">value</span></span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">81</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">int</span> TimeoutSeconds { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="number">60</span>;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">82</span>
                            <span class="line-content">#<span class="keyword">if</span> NET8_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">83</span>
                            <span class="line-content">    <span class="comment">// Modern configuration <span class="keyword">using</span> newer .NET features - unchanged</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">84</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">required</span> <span class="keyword">string</span> ApiKey { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">85</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">86</span>
                            <span class="line-content">#<span class="keyword">else</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">87</span>
                            <span class="line-content">    <span class="comment">// Fallback <span class="keyword">for</span> older frameworks - modified <span class="keyword">with</span> better <span class="keyword">default</span></span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">88</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">string</span> ApiKey { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">&quot;<span class="keyword">default</span>-key&quot;</span>;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">89</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">90</span>
                            <span class="line-content">#<span class="keyword">if</span> NET10_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">91</span>
                            <span class="line-content">    <span class="comment">// Existing property - unchanged</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">92</span>
                            <span class="line-content">    <span class="keyword">public</span> TimeProvider TimeProvider { <span class="keyword">get</span>; <span class="keyword">set</span>; } = TimeProvider.System;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">93</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">94</span>
                            <span class="line-content">    <span class="comment">// New property added only <span class="keyword">in</span> NET10.<span class="number">0</span>+</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">95</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">bool</span> EnableMetrics { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">true</span>;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">96</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">97</span>
                            <span class="line-content">    <span class="comment">// New method added to all TFMs</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">98</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">void</span> Validate()</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">99</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">100</span>
                            <span class="line-content">        <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrEmpty(ApiBaseUrl))</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">101</span>
                            <span class="line-content">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvalidOperationException</span>(<span class="string">&quot;ApiBaseUrl <span class="keyword">is</span> <span class="keyword">required</span>&quot;</span>);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">102</span>
                            <span class="line-content">        <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrEmpty(ApiKey))</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">103</span>
                            <span class="line-content">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvalidOperationException</span>(<span class="string">&quot;ApiKey <span class="keyword">is</span> <span class="keyword">required</span>&quot;</span>);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">104</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">105</span>
                            <span class="line-content">}</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">1</span>
                            <span class="line-content"><span class="keyword">namespace</span> ConditionalDemo;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">2</span>
                            <span class="line-content"><span class="comment">/// &lt;summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">3</span>
                            <span class="line-content"><span class="comment">/// Example <span class="keyword">class</span> demonstrating TFM-specific conditional compilation.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">4</span>
                            <span class="line-content"><span class="comment">/// This <span class="keyword">is</span> the <span class="string">&quot;<span class="keyword">new</span>&quot;</span> version <span class="keyword">with</span> various TFM-specific changes.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">5</span>
                            <span class="line-content"><span class="comment">/// &lt;/summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">6</span>
                            <span class="line-content"><span class="keyword">public</span> <span class="keyword">class</span> ApiClient</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">7</span>
                            <span class="line-content">{</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">8</span>
                            <span class="line-content">    <span class="keyword">private</span> <span class="keyword">readonly</span> HttpClient _httpClient;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">9</span>
                            <span class="line-content">    <span class="keyword">public</span> ApiClient(HttpClient httpClient)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">10</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">11</span>
                            <span class="line-content">        _httpClient = httpClient;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">12</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">13</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">14</span>
                            <span class="line-content">    <span class="comment">// Method that exists <span class="keyword">in</span> all TFMs - modified across all frameworks</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">15</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">string</span>&gt; GetDataAsync(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">16</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">17</span>
                            <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">18</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">19</span>
                            <span class="line-content">        <span class="comment">// Added logging - applies to all TFMs</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">20</span>
                            <span class="line-content">        Console.WriteLine($<span class="string">&quot;Fetched data from {endpoint}&quot;</span>);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">21</span>
                            <span class="line-content">        <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStringAsync();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">22</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">23</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">24</span>
                            <span class="line-content">#<span class="keyword">if</span> NET8_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">25</span>
                            <span class="line-content">    <span class="comment">// This method was modified - change applies only to NET8.<span class="number">0</span>+</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">26</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;T&gt; GetJsonAsync&lt;T&gt;(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">27</span>
                            <span class="line-content">        <span class="keyword">where</span> T : <span class="keyword">class</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">28</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">29</span>
                            <span class="line-content">        <span class="comment">// Added constraint <span class="keyword">and</span> improved implementation</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">30</span>
                            <span class="line-content">        <span class="keyword">var</span> json = <span class="keyword">await</span> GetDataAsync(endpoint);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">31</span>
                            <span class="line-content">        <span class="keyword">var</span> options = <span class="keyword">new</span> System.Text.Json.JsonSerializerOptions</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">32</span>
                            <span class="line-content">        {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">33</span>
                            <span class="line-content">            PropertyNameCaseInsensitive = <span class="keyword">true</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">34</span>
                            <span class="line-content">        };</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">35</span>
                            <span class="line-content">        <span class="keyword">return</span> System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">36</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">37</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">38</span>
                            <span class="line-content">    <span class="comment">// New method added only <span class="keyword">for</span> NET8.<span class="number">0</span>+ (<span class="keyword">not</span> <span class="keyword">in</span> NET10)</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">39</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">bool</span>&gt; HealthCheckAsync()</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">40</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">41</span>
                            <span class="line-content">        <span class="keyword">try</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">42</span>
                            <span class="line-content">        {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">43</span>
                            <span class="line-content">            <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(<span class="string">&quot;/health&quot;</span>);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">44</span>
                            <span class="line-content">            <span class="keyword">return</span> response.IsSuccessStatusCode;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">45</span>
                            <span class="line-content">        }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">46</span>
                            <span class="line-content">        <span class="keyword">catch</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">47</span>
                            <span class="line-content">        {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">48</span>
                            <span class="line-content">            <span class="keyword">return</span> <span class="keyword">false</span>;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">49</span>
                            <span class="line-content">        }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">50</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">51</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">52</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">53</span>
                            <span class="line-content">#<span class="keyword">if</span> NET10_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">54</span>
                            <span class="line-content">    <span class="comment">// This method exists unchanged <span class="keyword">in</span> NET10.<span class="number">0</span></span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">55</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;Stream&gt; GetStreamAsync(<span class="keyword">string</span> endpoint)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">56</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">57</span>
                            <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">58</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">59</span>
                            <span class="line-content">        <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStreamAsync();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">60</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">61</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">62</span>
                            <span class="line-content">    <span class="comment">// New method added only <span class="keyword">for</span> NET10.<span class="number">0</span>+</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">63</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(<span class="keyword">string</span> endpoint, CancellationToken cancellationToken = <span class="keyword">default</span>)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">64</span>
                            <span class="line-content">        <span class="keyword">where</span> T : <span class="keyword">class</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">65</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">66</span>
                            <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint, cancellationToken);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">67</span>
                            <span class="line-content">        response.EnsureSuccessStatusCode();</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">68</span>
                            <span class="line-content">        <span class="keyword">var</span> stream = <span class="keyword">await</span> response.Content.ReadAsStreamAsync(cancellationToken);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">69</span>
                            <span class="line-content">        <span class="keyword">return</span> <span class="keyword">await</span> System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvalidOperationException</span>(<span class="string">&quot;Deserialization failed&quot;</span>);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">70</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">71</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">72</span>
                            <span class="line-content"><span class="comment">// Legacy method that exists <span class="keyword">in</span> older frameworks - removed <span class="keyword">in</span> <span class="keyword">new</span> version</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">73</span>
                            <span class="line-content"><span class="comment">// (This entire block <span class="keyword">is</span> deleted <span class="keyword">in</span> the <span class="keyword">new</span> version)</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">74</span>
                            <span class="line-content">}</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">75</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">76</span>
                            <span class="line-content"><span class="comment">/// &lt;summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">77</span>
                            <span class="line-content"><span class="comment">/// Configuration <span class="keyword">class</span> <span class="keyword">with</span> TFM-specific settings.</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">78</span>
                            <span class="line-content"><span class="comment">/// &lt;/summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">79</span>
                            <span class="line-content"><span class="keyword">public</span> <span class="keyword">class</span> AppConfiguration</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">80</span>
                            <span class="line-content">{</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">81</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">string</span> ApiBaseUrl { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">&quot;https:<span class="comment">//api.example.com&quot;</span>;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">82</span>
                            <span class="line-content">    <span class="comment">// Modified <span class="keyword">in</span> all TFMs - changed <span class="keyword">default</span> <span class="keyword">value</span></span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">83</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">int</span> TimeoutSeconds { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="number">60</span>;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">84</span>
                            <span class="line-content">#<span class="keyword">if</span> NET8_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">85</span>
                            <span class="line-content">    <span class="comment">// Modern configuration <span class="keyword">using</span> newer .NET features - unchanged</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">86</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">required</span> <span class="keyword">string</span> ApiKey { <span class="keyword">get</span>; <span class="keyword">set</span>; }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">87</span>
                            <span class="line-content">#<span class="keyword">else</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">88</span>
                            <span class="line-content">    <span class="comment">// Fallback <span class="keyword">for</span> older frameworks - modified <span class="keyword">with</span> better <span class="keyword">default</span></span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">89</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">string</span> ApiKey { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="string">&quot;<span class="keyword">default</span>-key&quot;</span>;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">90</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">91</span>
                            <span class="line-content">#<span class="keyword">if</span> NET10_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">92</span>
                            <span class="line-content">    <span class="comment">// Existing property - unchanged</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">93</span>
                            <span class="line-content">    <span class="keyword">public</span> TimeProvider TimeProvider { <span class="keyword">get</span>; <span class="keyword">set</span>; } = TimeProvider.System;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">94</span>
                            <span class="line-content">    <span class="comment">// New property added only <span class="keyword">in</span> NET10.<span class="number">0</span>+</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">95</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">bool</span> EnableMetrics { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">true</span>;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">96</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">97</span>
                            <span class="line-content"><span class="preprocessor">#endif</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">98</span>
                            <span class="line-content">    <span class="comment">// New method added to all TFMs</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">99</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">void</span> Validate()</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">100</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">101</span>
                            <span class="line-content">        <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrEmpty(ApiBaseUrl))</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">102</span>
                            <span class="line-content">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvalidOperationException</span>(<span class="string">&quot;ApiBaseUrl <span class="keyword">is</span> <span class="keyword">required</span>&quot;</span>);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">103</span>
                            <span class="line-content">        <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrEmpty(ApiKey))</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">104</span>
                            <span class="line-content">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvalidOperationException</span>(<span class="string">&quot;ApiKey <span class="keyword">is</span> <span class="keyword">required</span>&quot;</span>);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">105</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">106</span>
                            <span class="line-content">}</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">107</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">108</span>
                            <span class="line-content">#<span class="keyword">if</span> NET10_0_OR_GREATER</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">109</span>
                            <span class="line-content"><span class="comment">/// &lt;summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">110</span>
                            <span class="line-content"><span class="comment">/// Entirely <span class="keyword">new</span> <span class="keyword">class</span> that only exists <span class="keyword">in</span> NET10.<span class="number">0</span>+</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">111</span>
                            <span class="line-content"><span class="comment">/// &lt;/summary&gt;</span></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">112</span>
                            <span class="line-content"><span class="keyword">public</span> <span class="keyword">class</span> MetricsCollector</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">113</span>
                            <span class="line-content">{</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">114</span>
                            <span class="line-content">    <span class="keyword">private</span> <span class="keyword">readonly</span> TimeProvider _timeProvider;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">115</span>
                            <span class="line-content">    <span class="keyword">public</span> MetricsCollector(TimeProvider timeProvider)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">116</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">117</span>
                            <span class="line-content">        _timeProvider = timeProvider;</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">118</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">119</span>
                            <span class="line-content"></span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">120</span>
                            <span class="line-content">    <span class="keyword">public</span> <span class="keyword">void</span> RecordRequest(<span class="keyword">string</span> endpoint, <span class="type">TimeSpan</span> duration)</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">121</span>
                            <span class="line-content">    {</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">122</span>
                            <span class="line-content">        Console.WriteLine($<span class="string">&quot;[{_timeProvider.GetUtcNow()}] {endpoint}: {duration.TotalMilliseconds}ms&quot;</span>);</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">123</span>
                            <span class="line-content">    }</span>
                        </div>
                        <div class="diff-line line-modified">
                            <span class="line-number">124</span>
                            <span class="line-content">}</span>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <div class="changes-list">
                <div class="change-section" style="margin-left: 0px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-f53e4a56')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Namespace</span>
                            <span class="change-name">ConditionalDemo</span>
                            <span class="tfm-badge">.NET 8.0</span>
                            <span class="change-location">line 1</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-f53e4a56')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-f53e4a56')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-f53e4a56" data-type="Modified" data-kind="Namespace" data-name="ConditionalDemo" data-old-line="1" data-new-line="1" data-old-content="namespace ConditionalDemo;
/// &lt;summary&gt;
/// Example class demonstrating TFM-specific conditional compilation.
/// This is the &quot;old&quot; version before changes were made.
/// &lt;/summary&gt;
public class ApiClient
{
    private readonly HttpClient _httpClient;
    public ApiClient(HttpClient httpClient)
    {
        _httpClient = httpClient;
    }

    // Method that exists in all TFMs - no changes
    public async Task&lt;string&gt; GetDataAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStringAsync();
    }

#if NET8_0_OR_GREATER
    // This method only exists in .NET 8.0 and later
    // Will be modified in the new version
    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
    {
        var json = await GetDataAsync(endpoint);
        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;
    }
#endif
#if NET10_0_OR_GREATER
    // This method only exists in .NET 10.0 and later
    // Uses newer APIs available in NET10
    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStreamAsync();
    }
#endif
// Legacy method that exists in older frameworks
#if !NET8_0_OR_GREATER
    public string GetDataSync(string endpoint)
    {
        // Synchronous version for older frameworks
        var response = _httpClient.GetAsync(endpoint).GetAwaiter().GetResult();
        response.EnsureSuccessStatusCode();
        return response.Content.ReadAsStringAsync().GetAwaiter().GetResult();
    }
#endif
}

/// &lt;summary&gt;
/// Configuration class with TFM-specific settings.
/// &lt;/summary&gt;
public class AppConfiguration
{
    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
    public int TimeoutSeconds { get; set; } = 30;
#if NET8_0_OR_GREATER
    // Modern configuration using newer .NET features
    public required string ApiKey { get; set; }
#else
    // Fallback for older frameworks without required properties
    public string ApiKey { get; set; } = string.Empty;
#endif
#if NET10_0_OR_GREATER
    // New property only in NET10.0+
    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;
#endif
}" data-new-content="namespace ConditionalDemo;
/// &lt;summary&gt;
/// Example class demonstrating TFM-specific conditional compilation.
/// This is the &quot;new&quot; version with various TFM-specific changes.
/// &lt;/summary&gt;
public class ApiClient
{
    private readonly HttpClient _httpClient;
    public ApiClient(HttpClient httpClient)
    {
        _httpClient = httpClient;
    }

    // Method that exists in all TFMs - modified across all frameworks
    public async Task&lt;string&gt; GetDataAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint);
        response.EnsureSuccessStatusCode();
        // Added logging - applies to all TFMs
        Console.WriteLine($&quot;Fetched data from {endpoint}&quot;);
        return await response.Content.ReadAsStringAsync();
    }

#if NET8_0_OR_GREATER
    // This method was modified - change applies only to NET8.0+
    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
        where T : class
    {
        // Added constraint and improved implementation
        var json = await GetDataAsync(endpoint);
        var options = new System.Text.Json.JsonSerializerOptions
        {
            PropertyNameCaseInsensitive = true
        };
        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;
    }

    // New method added only for NET8.0+ (not in NET10)
    public async Task&lt;bool&gt; HealthCheckAsync()
    {
        try
        {
            var response = await _httpClient.GetAsync(&quot;/health&quot;);
            return response.IsSuccessStatusCode;
        }
        catch
        {
            return false;
        }
    }
#endif
#if NET10_0_OR_GREATER
    // This method exists unchanged in NET10.0
    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStreamAsync();
    }

    // New method added only for NET10.0+
    public async Task&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(string endpoint, CancellationToken cancellationToken = default) where T : class
    {
        var response = await _httpClient.GetAsync(endpoint, cancellationToken);
        response.EnsureSuccessStatusCode();
        var stream = await response.Content.ReadAsStreamAsync(cancellationToken);
        return await System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? throw new InvalidOperationException(&quot;Deserialization failed&quot;);
    }
#endif
// Legacy method that exists in older frameworks - removed in new version
// (This entire block is deleted in the new version)
}

/// &lt;summary&gt;
/// Configuration class with TFM-specific settings.
/// &lt;/summary&gt;
public class AppConfiguration
{
    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
    // Modified in all TFMs - changed default value
    public int TimeoutSeconds { get; set; } = 60;
#if NET8_0_OR_GREATER
    // Modern configuration using newer .NET features - unchanged
    public required string ApiKey { get; set; }

#else
    // Fallback for older frameworks - modified with better default
    public string ApiKey { get; set; } = &quot;default-key&quot;;
#endif
#if NET10_0_OR_GREATER
    // Existing property - unchanged
    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;

    // New property added only in NET10.0+
    public bool EnableMetrics { get; set; } = true;
#endif
    // New method added to all TFMs
    public void Validate()
    {
        if (string.IsNullOrEmpty(ApiBaseUrl))
            throw new InvalidOperationException(&quot;ApiBaseUrl is required&quot;);
        if (string.IsNullOrEmpty(ApiKey))
            throw new InvalidOperationException(&quot;ApiKey is required&quot;);
    }
}">
                        <div class="diff-line" style="padding: 8px 12px; color: #57606a; font-style: italic;">
                            Contains 2 nested changes shown below.
                        </div>
                    </div>
                <div class="change-section" style="margin-left: 20px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-0c2372d6')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Class</span>
                            <span class="change-name">ApiClient</span>
                            <span class="tfm-badge">.NET 8.0</span>
                            <span class="change-location">line 7</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-0c2372d6')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-0c2372d6')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-0c2372d6" data-type="Modified" data-kind="Class" data-name="ApiClient" data-old-line="7" data-new-line="7" data-old-content="public class ApiClient
{
    private readonly HttpClient _httpClient;
    public ApiClient(HttpClient httpClient)
    {
        _httpClient = httpClient;
    }

    // Method that exists in all TFMs - no changes
    public async Task&lt;string&gt; GetDataAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStringAsync();
    }

#if NET8_0_OR_GREATER
    // This method only exists in .NET 8.0 and later
    // Will be modified in the new version
    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
    {
        var json = await GetDataAsync(endpoint);
        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;
    }
#endif
#if NET10_0_OR_GREATER
    // This method only exists in .NET 10.0 and later
    // Uses newer APIs available in NET10
    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStreamAsync();
    }
#endif
// Legacy method that exists in older frameworks
#if !NET8_0_OR_GREATER
    public string GetDataSync(string endpoint)
    {
        // Synchronous version for older frameworks
        var response = _httpClient.GetAsync(endpoint).GetAwaiter().GetResult();
        response.EnsureSuccessStatusCode();
        return response.Content.ReadAsStringAsync().GetAwaiter().GetResult();
    }
#endif
}" data-new-content="public class ApiClient
{
    private readonly HttpClient _httpClient;
    public ApiClient(HttpClient httpClient)
    {
        _httpClient = httpClient;
    }

    // Method that exists in all TFMs - modified across all frameworks
    public async Task&lt;string&gt; GetDataAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint);
        response.EnsureSuccessStatusCode();
        // Added logging - applies to all TFMs
        Console.WriteLine($&quot;Fetched data from {endpoint}&quot;);
        return await response.Content.ReadAsStringAsync();
    }

#if NET8_0_OR_GREATER
    // This method was modified - change applies only to NET8.0+
    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
        where T : class
    {
        // Added constraint and improved implementation
        var json = await GetDataAsync(endpoint);
        var options = new System.Text.Json.JsonSerializerOptions
        {
            PropertyNameCaseInsensitive = true
        };
        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;
    }

    // New method added only for NET8.0+ (not in NET10)
    public async Task&lt;bool&gt; HealthCheckAsync()
    {
        try
        {
            var response = await _httpClient.GetAsync(&quot;/health&quot;);
            return response.IsSuccessStatusCode;
        }
        catch
        {
            return false;
        }
    }
#endif
#if NET10_0_OR_GREATER
    // This method exists unchanged in NET10.0
    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStreamAsync();
    }

    // New method added only for NET10.0+
    public async Task&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(string endpoint, CancellationToken cancellationToken = default) where T : class
    {
        var response = await _httpClient.GetAsync(endpoint, cancellationToken);
        response.EnsureSuccessStatusCode();
        var stream = await response.Content.ReadAsStreamAsync(cancellationToken);
        return await System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? throw new InvalidOperationException(&quot;Deserialization failed&quot;);
    }
#endif
// Legacy method that exists in older frameworks - removed in new version
// (This entire block is deleted in the new version)
}">
                        <div class="diff-line" style="padding: 8px 12px; color: #57606a; font-style: italic;">
                            Contains 3 nested changes shown below.
                        </div>
                    </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-2ffca71f')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Method</span>
                            <span class="change-name">GetDataAsync</span>
                            <span class="tfm-badge">.NET 8.0</span>
                            <span class="change-location">line 17</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-2ffca71f')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-2ffca71f')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-2ffca71f" data-type="Modified" data-kind="Method" data-name="GetDataAsync" data-old-line="17" data-new-line="17" data-old-content="public async Task&lt;string&gt; GetDataAsync(string endpoint)
{
    var response = await _httpClient.GetAsync(endpoint);
    response.EnsureSuccessStatusCode();
    return await response.Content.ReadAsStringAsync();
}" data-new-content="public async Task&lt;string&gt; GetDataAsync(string endpoint)
{
    var response = await _httpClient.GetAsync(endpoint);
    response.EnsureSuccessStatusCode();
    // Added logging - applies to all TFMs
    Console.WriteLine($&quot;Fetched data from {endpoint}&quot;);
    return await response.Content.ReadAsStringAsync();
}">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line line-removed">
                                <span class="line-number">17</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">string</span>&gt; GetDataAsync(<span class="keyword">string</span> endpoint)</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">18</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">19</span>
                                <span class="line-content">    <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint);</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">20</span>
                                <span class="line-content">    response.EnsureSuccessStatusCode();</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">21</span>
                                <span class="line-content">    <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStringAsync();</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">22</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">17</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">string</span>&gt; GetDataAsync(<span class="keyword">string</span> endpoint)</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">18</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">19</span>
                                <span class="line-content">    <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">20</span>
                                <span class="line-content">    response.EnsureSuccessStatusCode();</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">21</span>
                                <span class="line-content">    <span class="comment">// Added logging - applies to all TFMs</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">22</span>
                                <span class="line-content">    Console.WriteLine($<span class="string">&quot;Fetched data from {endpoint}&quot;</span>);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">23</span>
                                <span class="line-content">    <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStringAsync();</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">24</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-28ad2850')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Method</span>
                            <span class="change-name">GetJsonAsync</span>
                            <span class="tfm-badge">.NET 8.0</span>
                            <span class="change-location">line 27 â†’ 28</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-28ad2850')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-28ad2850')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-28ad2850" data-type="Modified" data-kind="Method" data-name="GetJsonAsync" data-old-line="27" data-new-line="28" data-old-content="public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
{
    var json = await GetDataAsync(endpoint);
    return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;
}" data-new-content="public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
    where T : class
{
    // Added constraint and improved implementation
    var json = await GetDataAsync(endpoint);
    var options = new System.Text.Json.JsonSerializerOptions
    {
        PropertyNameCaseInsensitive = true
    };
    return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;
}">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line line-removed">
                                <span class="line-number">27</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;T&gt; GetJsonAsync&lt;T&gt;(<span class="keyword">string</span> endpoint)</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">28</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">29</span>
                                <span class="line-content">    <span class="keyword">var</span> json = <span class="keyword">await</span> GetDataAsync(endpoint);</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">30</span>
                                <span class="line-content">    <span class="keyword">return</span> System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">31</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">28</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;T&gt; GetJsonAsync&lt;T&gt;(<span class="keyword">string</span> endpoint)</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">29</span>
                                <span class="line-content">    <span class="keyword">where</span> T : <span class="keyword">class</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">30</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">31</span>
                                <span class="line-content">    <span class="comment">// Added constraint <span class="keyword">and</span> improved implementation</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">32</span>
                                <span class="line-content">    <span class="keyword">var</span> json = <span class="keyword">await</span> GetDataAsync(endpoint);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">33</span>
                                <span class="line-content">    <span class="keyword">var</span> options = <span class="keyword">new</span> System.Text.Json.JsonSerializerOptions</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">34</span>
                                <span class="line-content">    {</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">35</span>
                                <span class="line-content">        PropertyNameCaseInsensitive = <span class="keyword">true</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">36</span>
                                <span class="line-content">    };</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">37</span>
                                <span class="line-content">    <span class="keyword">return</span> System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">38</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-55bd8e1d')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-added">Added</span>
                            <span class="change-kind">Method</span>
                            <span class="change-name">HealthCheckAsync</span>
                            <span class="tfm-badge">.NET 8.0</span>
                            <span class="change-location">line 40-51</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-55bd8e1d')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-55bd8e1d')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-55bd8e1d" data-type="Added" data-kind="Method" data-name="HealthCheckAsync" data-old-line="" data-new-line="40" data-old-content="" data-new-content="public async Task&lt;bool&gt; HealthCheckAsync()
{
    try
    {
        var response = await _httpClient.GetAsync(&quot;/health&quot;);
        return response.IsSuccessStatusCode;
    }
    catch
    {
        return false;
    }
}">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line">
                                <span class="line-number">-</span>
                                <span class="line-content">(none)</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">40</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">bool</span>&gt; HealthCheckAsync()</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">41</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">42</span>
                                <span class="line-content">    <span class="keyword">try</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">43</span>
                                <span class="line-content">    {</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">44</span>
                                <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(<span class="string">&quot;/health&quot;</span>);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">45</span>
                                <span class="line-content">        <span class="keyword">return</span> response.IsSuccessStatusCode;</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">46</span>
                                <span class="line-content">    }</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">47</span>
                                <span class="line-content">    <span class="keyword">catch</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">48</span>
                                <span class="line-content">    {</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">49</span>
                                <span class="line-content">        <span class="keyword">return</span> <span class="keyword">false</span>;</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">50</span>
                                <span class="line-content">    }</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">51</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                <div class="change-section" style="margin-left: 20px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-912eeea3')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Class</span>
                            <span class="change-name">AppConfiguration</span>
                            <span class="tfm-badge">.NET 8.0</span>
                            <span class="change-location">line 60 â†’ 80</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-912eeea3')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-912eeea3')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-912eeea3" data-type="Modified" data-kind="Class" data-name="AppConfiguration" data-old-line="60" data-new-line="80" data-old-content="public class AppConfiguration
{
    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
    public int TimeoutSeconds { get; set; } = 30;
#if NET8_0_OR_GREATER
    // Modern configuration using newer .NET features
    public required string ApiKey { get; set; }
#else
    // Fallback for older frameworks without required properties
    public string ApiKey { get; set; } = string.Empty;
#endif
#if NET10_0_OR_GREATER
    // New property only in NET10.0+
    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;
#endif
}" data-new-content="public class AppConfiguration
{
    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
    // Modified in all TFMs - changed default value
    public int TimeoutSeconds { get; set; } = 60;
#if NET8_0_OR_GREATER
    // Modern configuration using newer .NET features - unchanged
    public required string ApiKey { get; set; }

#else
    // Fallback for older frameworks - modified with better default
    public string ApiKey { get; set; } = &quot;default-key&quot;;
#endif
#if NET10_0_OR_GREATER
    // Existing property - unchanged
    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;

    // New property added only in NET10.0+
    public bool EnableMetrics { get; set; } = true;
#endif
    // New method added to all TFMs
    public void Validate()
    {
        if (string.IsNullOrEmpty(ApiBaseUrl))
            throw new InvalidOperationException(&quot;ApiBaseUrl is required&quot;);
        if (string.IsNullOrEmpty(ApiKey))
            throw new InvalidOperationException(&quot;ApiKey is required&quot;);
    }
}">
                        <div class="diff-line" style="padding: 8px 12px; color: #57606a; font-style: italic;">
                            Contains 2 nested changes shown below.
                        </div>
                    </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-3e93f0fd')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Property</span>
                            <span class="change-name">TimeoutSeconds</span>
                            <span class="tfm-badge">.NET 8.0</span>
                            <span class="change-location">line 64 â†’ 85</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-3e93f0fd')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-3e93f0fd')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-3e93f0fd" data-type="Modified" data-kind="Property" data-name="TimeoutSeconds" data-old-line="64" data-new-line="85" data-old-content="public int TimeoutSeconds { get; set; } = 30;" data-new-content="public int TimeoutSeconds { get; set; } = 60;">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line line-removed">
                                <span class="line-number">64</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">int</span> TimeoutSeconds { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="number">30</span>;</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">85</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">int</span> TimeoutSeconds { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="number">60</span>;</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-adedcd7f')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-added">Added</span>
                            <span class="change-kind">Method</span>
                            <span class="change-name">Validate</span>
                            <span class="tfm-badge">.NET 8.0</span>
                            <span class="change-location">line 104-110</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-adedcd7f')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-adedcd7f')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-adedcd7f" data-type="Added" data-kind="Method" data-name="Validate" data-old-line="" data-new-line="104" data-old-content="" data-new-content="public void Validate()
{
    if (string.IsNullOrEmpty(ApiBaseUrl))
        throw new InvalidOperationException(&quot;ApiBaseUrl is required&quot;);
    if (string.IsNullOrEmpty(ApiKey))
        throw new InvalidOperationException(&quot;ApiKey is required&quot;);
}">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line">
                                <span class="line-number">-</span>
                                <span class="line-content">(none)</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">104</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">void</span> Validate()</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">105</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">106</span>
                                <span class="line-content">    <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrEmpty(ApiBaseUrl))</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">107</span>
                                <span class="line-content">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvalidOperationException</span>(<span class="string">&quot;ApiBaseUrl <span class="keyword">is</span> <span class="keyword">required</span>&quot;</span>);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">108</span>
                                <span class="line-content">    <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrEmpty(ApiKey))</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">109</span>
                                <span class="line-content">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvalidOperationException</span>(<span class="string">&quot;ApiKey <span class="keyword">is</span> <span class="keyword">required</span>&quot;</span>);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">110</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                </div>
                <div class="change-section" style="margin-left: 0px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-f53e4a56')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Namespace</span>
                            <span class="change-name">ConditionalDemo</span>
                            <span class="tfm-badge">.NET 10.0</span>
                            <span class="change-location">line 1</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-f53e4a56')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-f53e4a56')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-f53e4a56" data-type="Modified" data-kind="Namespace" data-name="ConditionalDemo" data-old-line="1" data-new-line="1" data-old-content="namespace ConditionalDemo;
/// &lt;summary&gt;
/// Example class demonstrating TFM-specific conditional compilation.
/// This is the &quot;old&quot; version before changes were made.
/// &lt;/summary&gt;
public class ApiClient
{
    private readonly HttpClient _httpClient;
    public ApiClient(HttpClient httpClient)
    {
        _httpClient = httpClient;
    }

    // Method that exists in all TFMs - no changes
    public async Task&lt;string&gt; GetDataAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStringAsync();
    }

#if NET8_0_OR_GREATER
    // This method only exists in .NET 8.0 and later
    // Will be modified in the new version
    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
    {
        var json = await GetDataAsync(endpoint);
        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;
    }

#endif
#if NET10_0_OR_GREATER
    // This method only exists in .NET 10.0 and later
    // Uses newer APIs available in NET10
    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStreamAsync();
    }
#endif
// Legacy method that exists in older frameworks
#if !NET8_0_OR_GREATER
    public string GetDataSync(string endpoint)
    {
        // Synchronous version for older frameworks
        var response = _httpClient.GetAsync(endpoint).GetAwaiter().GetResult();
        response.EnsureSuccessStatusCode();
        return response.Content.ReadAsStringAsync().GetAwaiter().GetResult();
    }
#endif
}

/// &lt;summary&gt;
/// Configuration class with TFM-specific settings.
/// &lt;/summary&gt;
public class AppConfiguration
{
    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
    public int TimeoutSeconds { get; set; } = 30;
#if NET8_0_OR_GREATER
    // Modern configuration using newer .NET features
    public required string ApiKey { get; set; }
#else
    // Fallback for older frameworks without required properties
    public string ApiKey { get; set; } = string.Empty;
#endif
#if NET10_0_OR_GREATER
    // New property only in NET10.0+
    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;
#endif
}" data-new-content="namespace ConditionalDemo;
/// &lt;summary&gt;
/// Example class demonstrating TFM-specific conditional compilation.
/// This is the &quot;new&quot; version with various TFM-specific changes.
/// &lt;/summary&gt;
public class ApiClient
{
    private readonly HttpClient _httpClient;
    public ApiClient(HttpClient httpClient)
    {
        _httpClient = httpClient;
    }

    // Method that exists in all TFMs - modified across all frameworks
    public async Task&lt;string&gt; GetDataAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint);
        response.EnsureSuccessStatusCode();
        // Added logging - applies to all TFMs
        Console.WriteLine($&quot;Fetched data from {endpoint}&quot;);
        return await response.Content.ReadAsStringAsync();
    }

#if NET8_0_OR_GREATER
    // This method was modified - change applies only to NET8.0+
    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
        where T : class
    {
        // Added constraint and improved implementation
        var json = await GetDataAsync(endpoint);
        var options = new System.Text.Json.JsonSerializerOptions
        {
            PropertyNameCaseInsensitive = true
        };
        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;
    }

    // New method added only for NET8.0+ (not in NET10)
    public async Task&lt;bool&gt; HealthCheckAsync()
    {
        try
        {
            var response = await _httpClient.GetAsync(&quot;/health&quot;);
            return response.IsSuccessStatusCode;
        }
        catch
        {
            return false;
        }
    }

#endif
#if NET10_0_OR_GREATER
    // This method exists unchanged in NET10.0
    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStreamAsync();
    }

    // New method added only for NET10.0+
    public async Task&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(string endpoint, CancellationToken cancellationToken = default)
        where T : class
    {
        var response = await _httpClient.GetAsync(endpoint, cancellationToken);
        response.EnsureSuccessStatusCode();
        var stream = await response.Content.ReadAsStreamAsync(cancellationToken);
        return await System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? throw new InvalidOperationException(&quot;Deserialization failed&quot;);
    }
#endif
// Legacy method that exists in older frameworks - removed in new version
// (This entire block is deleted in the new version)
}

/// &lt;summary&gt;
/// Configuration class with TFM-specific settings.
/// &lt;/summary&gt;
public class AppConfiguration
{
    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
    // Modified in all TFMs - changed default value
    public int TimeoutSeconds { get; set; } = 60;
#if NET8_0_OR_GREATER
    // Modern configuration using newer .NET features - unchanged
    public required string ApiKey { get; set; }
#else
    // Fallback for older frameworks - modified with better default
    public string ApiKey { get; set; } = &quot;default-key&quot;;
#endif
#if NET10_0_OR_GREATER
    // Existing property - unchanged
    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;
    // New property added only in NET10.0+
    public bool EnableMetrics { get; set; } = true;

#endif
    // New method added to all TFMs
    public void Validate()
    {
        if (string.IsNullOrEmpty(ApiBaseUrl))
            throw new InvalidOperationException(&quot;ApiBaseUrl is required&quot;);
        if (string.IsNullOrEmpty(ApiKey))
            throw new InvalidOperationException(&quot;ApiKey is required&quot;);
    }
}

#if NET10_0_OR_GREATER
/// &lt;summary&gt;
/// Entirely new class that only exists in NET10.0+
/// &lt;/summary&gt;
public class MetricsCollector
{
    private readonly TimeProvider _timeProvider;
    public MetricsCollector(TimeProvider timeProvider)
    {
        _timeProvider = timeProvider;
    }

    public void RecordRequest(string endpoint, TimeSpan duration)
    {
        Console.WriteLine($&quot;[{_timeProvider.GetUtcNow()}] {endpoint}: {duration.TotalMilliseconds}ms&quot;);
    }
}">
                        <div class="diff-line" style="padding: 8px 12px; color: #57606a; font-style: italic;">
                            Contains 3 nested changes shown below.
                        </div>
                    </div>
                <div class="change-section" style="margin-left: 20px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-0c2372d6')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Class</span>
                            <span class="change-name">ApiClient</span>
                            <span class="tfm-badge">.NET 10.0</span>
                            <span class="change-location">line 7</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-0c2372d6')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-0c2372d6')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-0c2372d6" data-type="Modified" data-kind="Class" data-name="ApiClient" data-old-line="7" data-new-line="7" data-old-content="public class ApiClient
{
    private readonly HttpClient _httpClient;
    public ApiClient(HttpClient httpClient)
    {
        _httpClient = httpClient;
    }

    // Method that exists in all TFMs - no changes
    public async Task&lt;string&gt; GetDataAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStringAsync();
    }

#if NET8_0_OR_GREATER
    // This method only exists in .NET 8.0 and later
    // Will be modified in the new version
    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
    {
        var json = await GetDataAsync(endpoint);
        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;
    }

#endif
#if NET10_0_OR_GREATER
    // This method only exists in .NET 10.0 and later
    // Uses newer APIs available in NET10
    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStreamAsync();
    }
#endif
// Legacy method that exists in older frameworks
#if !NET8_0_OR_GREATER
    public string GetDataSync(string endpoint)
    {
        // Synchronous version for older frameworks
        var response = _httpClient.GetAsync(endpoint).GetAwaiter().GetResult();
        response.EnsureSuccessStatusCode();
        return response.Content.ReadAsStringAsync().GetAwaiter().GetResult();
    }
#endif
}" data-new-content="public class ApiClient
{
    private readonly HttpClient _httpClient;
    public ApiClient(HttpClient httpClient)
    {
        _httpClient = httpClient;
    }

    // Method that exists in all TFMs - modified across all frameworks
    public async Task&lt;string&gt; GetDataAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint);
        response.EnsureSuccessStatusCode();
        // Added logging - applies to all TFMs
        Console.WriteLine($&quot;Fetched data from {endpoint}&quot;);
        return await response.Content.ReadAsStringAsync();
    }

#if NET8_0_OR_GREATER
    // This method was modified - change applies only to NET8.0+
    public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
        where T : class
    {
        // Added constraint and improved implementation
        var json = await GetDataAsync(endpoint);
        var options = new System.Text.Json.JsonSerializerOptions
        {
            PropertyNameCaseInsensitive = true
        };
        return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;
    }

    // New method added only for NET8.0+ (not in NET10)
    public async Task&lt;bool&gt; HealthCheckAsync()
    {
        try
        {
            var response = await _httpClient.GetAsync(&quot;/health&quot;);
            return response.IsSuccessStatusCode;
        }
        catch
        {
            return false;
        }
    }

#endif
#if NET10_0_OR_GREATER
    // This method exists unchanged in NET10.0
    public async Task&lt;Stream&gt; GetStreamAsync(string endpoint)
    {
        var response = await _httpClient.GetAsync(endpoint, HttpCompletionOption.ResponseHeadersRead);
        response.EnsureSuccessStatusCode();
        return await response.Content.ReadAsStreamAsync();
    }

    // New method added only for NET10.0+
    public async Task&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(string endpoint, CancellationToken cancellationToken = default)
        where T : class
    {
        var response = await _httpClient.GetAsync(endpoint, cancellationToken);
        response.EnsureSuccessStatusCode();
        var stream = await response.Content.ReadAsStreamAsync(cancellationToken);
        return await System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? throw new InvalidOperationException(&quot;Deserialization failed&quot;);
    }
#endif
// Legacy method that exists in older frameworks - removed in new version
// (This entire block is deleted in the new version)
}">
                        <div class="diff-line" style="padding: 8px 12px; color: #57606a; font-style: italic;">
                            Contains 4 nested changes shown below.
                        </div>
                    </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-2ffca71f')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Method</span>
                            <span class="change-name">GetDataAsync</span>
                            <span class="tfm-badge">.NET 10.0</span>
                            <span class="change-location">line 17</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-2ffca71f')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-2ffca71f')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-2ffca71f" data-type="Modified" data-kind="Method" data-name="GetDataAsync" data-old-line="17" data-new-line="17" data-old-content="public async Task&lt;string&gt; GetDataAsync(string endpoint)
{
    var response = await _httpClient.GetAsync(endpoint);
    response.EnsureSuccessStatusCode();
    return await response.Content.ReadAsStringAsync();
}" data-new-content="public async Task&lt;string&gt; GetDataAsync(string endpoint)
{
    var response = await _httpClient.GetAsync(endpoint);
    response.EnsureSuccessStatusCode();
    // Added logging - applies to all TFMs
    Console.WriteLine($&quot;Fetched data from {endpoint}&quot;);
    return await response.Content.ReadAsStringAsync();
}">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line line-removed">
                                <span class="line-number">17</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">string</span>&gt; GetDataAsync(<span class="keyword">string</span> endpoint)</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">18</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">19</span>
                                <span class="line-content">    <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint);</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">20</span>
                                <span class="line-content">    response.EnsureSuccessStatusCode();</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">21</span>
                                <span class="line-content">    <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStringAsync();</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">22</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">17</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">string</span>&gt; GetDataAsync(<span class="keyword">string</span> endpoint)</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">18</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">19</span>
                                <span class="line-content">    <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">20</span>
                                <span class="line-content">    response.EnsureSuccessStatusCode();</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">21</span>
                                <span class="line-content">    <span class="comment">// Added logging - applies to all TFMs</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">22</span>
                                <span class="line-content">    Console.WriteLine($<span class="string">&quot;Fetched data from {endpoint}&quot;</span>);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">23</span>
                                <span class="line-content">    <span class="keyword">return</span> <span class="keyword">await</span> response.Content.ReadAsStringAsync();</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">24</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-28ad2850')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Method</span>
                            <span class="change-name">GetJsonAsync</span>
                            <span class="tfm-badge">.NET 10.0</span>
                            <span class="change-location">line 27 â†’ 28</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-28ad2850')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-28ad2850')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-28ad2850" data-type="Modified" data-kind="Method" data-name="GetJsonAsync" data-old-line="27" data-new-line="28" data-old-content="public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
{
    var json = await GetDataAsync(endpoint);
    return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;
}" data-new-content="public async Task&lt;T&gt; GetJsonAsync&lt;T&gt;(string endpoint)
    where T : class
{
    // Added constraint and improved implementation
    var json = await GetDataAsync(endpoint);
    var options = new System.Text.Json.JsonSerializerOptions
    {
        PropertyNameCaseInsensitive = true
    };
    return System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;
}">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line line-removed">
                                <span class="line-number">27</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;T&gt; GetJsonAsync&lt;T&gt;(<span class="keyword">string</span> endpoint)</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">28</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">29</span>
                                <span class="line-content">    <span class="keyword">var</span> json = <span class="keyword">await</span> GetDataAsync(endpoint);</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">30</span>
                                <span class="line-content">    <span class="keyword">return</span> System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json)!;</span>
                            </div>
                            <div class="diff-line line-removed">
                                <span class="line-number">31</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">28</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;T&gt; GetJsonAsync&lt;T&gt;(<span class="keyword">string</span> endpoint)</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">29</span>
                                <span class="line-content">    <span class="keyword">where</span> T : <span class="keyword">class</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">30</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">31</span>
                                <span class="line-content">    <span class="comment">// Added constraint <span class="keyword">and</span> improved implementation</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">32</span>
                                <span class="line-content">    <span class="keyword">var</span> json = <span class="keyword">await</span> GetDataAsync(endpoint);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">33</span>
                                <span class="line-content">    <span class="keyword">var</span> options = <span class="keyword">new</span> System.Text.Json.JsonSerializerOptions</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">34</span>
                                <span class="line-content">    {</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">35</span>
                                <span class="line-content">        PropertyNameCaseInsensitive = <span class="keyword">true</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">36</span>
                                <span class="line-content">    };</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">37</span>
                                <span class="line-content">    <span class="keyword">return</span> System.Text.Json.JsonSerializer.Deserialize&lt;T&gt;(json, options)!;</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">38</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-55bd8e1d')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-added">Added</span>
                            <span class="change-kind">Method</span>
                            <span class="change-name">HealthCheckAsync</span>
                            <span class="tfm-badge">.NET 10.0</span>
                            <span class="change-location">line 40-51</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-55bd8e1d')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-55bd8e1d')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-55bd8e1d" data-type="Added" data-kind="Method" data-name="HealthCheckAsync" data-old-line="" data-new-line="40" data-old-content="" data-new-content="public async Task&lt;bool&gt; HealthCheckAsync()
{
    try
    {
        var response = await _httpClient.GetAsync(&quot;/health&quot;);
        return response.IsSuccessStatusCode;
    }
    catch
    {
        return false;
    }
}">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line">
                                <span class="line-number">-</span>
                                <span class="line-content">(none)</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">40</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;<span class="keyword">bool</span>&gt; HealthCheckAsync()</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">41</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">42</span>
                                <span class="line-content">    <span class="keyword">try</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">43</span>
                                <span class="line-content">    {</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">44</span>
                                <span class="line-content">        <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(<span class="string">&quot;/health&quot;</span>);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">45</span>
                                <span class="line-content">        <span class="keyword">return</span> response.IsSuccessStatusCode;</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">46</span>
                                <span class="line-content">    }</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">47</span>
                                <span class="line-content">    <span class="keyword">catch</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">48</span>
                                <span class="line-content">    {</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">49</span>
                                <span class="line-content">        <span class="keyword">return</span> <span class="keyword">false</span>;</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">50</span>
                                <span class="line-content">    }</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">51</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-c03a49ee')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-added">Added</span>
                            <span class="change-kind">Method</span>
                            <span class="change-name">GetJsonWithCancellationAsync</span>
                            <span class="tfm-badge">.NET 10.0</span>
                            <span class="change-location">line 64-70</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-c03a49ee')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-c03a49ee')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-c03a49ee" data-type="Added" data-kind="Method" data-name="GetJsonWithCancellationAsync" data-old-line="" data-new-line="64" data-old-content="" data-new-content="public async Task&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(string endpoint, CancellationToken cancellationToken = default)
    where T : class
{
    var response = await _httpClient.GetAsync(endpoint, cancellationToken);
    response.EnsureSuccessStatusCode();
    var stream = await response.Content.ReadAsStreamAsync(cancellationToken);
    return await System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? throw new InvalidOperationException(&quot;Deserialization failed&quot;);
}">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line">
                                <span class="line-number">-</span>
                                <span class="line-content">(none)</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">64</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">async</span> <span class="type">Task</span>&lt;T&gt; GetJsonWithCancellationAsync&lt;T&gt;(<span class="keyword">string</span> endpoint, CancellationToken cancellationToken = <span class="keyword">default</span>)</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">65</span>
                                <span class="line-content">    <span class="keyword">where</span> T : <span class="keyword">class</span></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">66</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">67</span>
                                <span class="line-content">    <span class="keyword">var</span> response = <span class="keyword">await</span> _httpClient.GetAsync(endpoint, cancellationToken);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">68</span>
                                <span class="line-content">    response.EnsureSuccessStatusCode();</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">69</span>
                                <span class="line-content">    <span class="keyword">var</span> stream = <span class="keyword">await</span> response.Content.ReadAsStreamAsync(cancellationToken);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">70</span>
                                <span class="line-content">    <span class="keyword">return</span> <span class="keyword">await</span> System.Text.Json.JsonSerializer.DeserializeAsync&lt;T&gt;(stream, cancellationToken: cancellationToken) ?? <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvalidOperationException</span>(<span class="string">&quot;Deserialization failed&quot;</span>);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">71</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                <div class="change-section" style="margin-left: 20px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-912eeea3')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Class</span>
                            <span class="change-name">AppConfiguration</span>
                            <span class="tfm-badge">.NET 10.0</span>
                            <span class="change-location">line 60 â†’ 80</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-912eeea3')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-912eeea3')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-912eeea3" data-type="Modified" data-kind="Class" data-name="AppConfiguration" data-old-line="60" data-new-line="80" data-old-content="public class AppConfiguration
{
    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
    public int TimeoutSeconds { get; set; } = 30;
#if NET8_0_OR_GREATER
    // Modern configuration using newer .NET features
    public required string ApiKey { get; set; }
#else
    // Fallback for older frameworks without required properties
    public string ApiKey { get; set; } = string.Empty;
#endif
#if NET10_0_OR_GREATER
    // New property only in NET10.0+
    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;
#endif
}" data-new-content="public class AppConfiguration
{
    public string ApiBaseUrl { get; set; } = &quot;https://api.example.com&quot;;
    // Modified in all TFMs - changed default value
    public int TimeoutSeconds { get; set; } = 60;
#if NET8_0_OR_GREATER
    // Modern configuration using newer .NET features - unchanged
    public required string ApiKey { get; set; }
#else
    // Fallback for older frameworks - modified with better default
    public string ApiKey { get; set; } = &quot;default-key&quot;;
#endif
#if NET10_0_OR_GREATER
    // Existing property - unchanged
    public TimeProvider TimeProvider { get; set; } = TimeProvider.System;
    // New property added only in NET10.0+
    public bool EnableMetrics { get; set; } = true;

#endif
    // New method added to all TFMs
    public void Validate()
    {
        if (string.IsNullOrEmpty(ApiBaseUrl))
            throw new InvalidOperationException(&quot;ApiBaseUrl is required&quot;);
        if (string.IsNullOrEmpty(ApiKey))
            throw new InvalidOperationException(&quot;ApiKey is required&quot;);
    }
}">
                        <div class="diff-line" style="padding: 8px 12px; color: #57606a; font-style: italic;">
                            Contains 3 nested changes shown below.
                        </div>
                    </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-3e93f0fd')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-modified">Modified</span>
                            <span class="change-kind">Property</span>
                            <span class="change-name">TimeoutSeconds</span>
                            <span class="tfm-badge">.NET 10.0</span>
                            <span class="change-location">line 64 â†’ 85</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-3e93f0fd')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-3e93f0fd')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-3e93f0fd" data-type="Modified" data-kind="Property" data-name="TimeoutSeconds" data-old-line="64" data-new-line="85" data-old-content="public int TimeoutSeconds { get; set; } = 30;" data-new-content="public int TimeoutSeconds { get; set; } = 60;">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line line-removed">
                                <span class="line-number">64</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">int</span> TimeoutSeconds { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="number">30</span>;</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">85</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">int</span> TimeoutSeconds { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="number">60</span>;</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-3e458fac')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-added">Added</span>
                            <span class="change-kind">Property</span>
                            <span class="change-name">EnableMetrics</span>
                            <span class="tfm-badge">.NET 10.0</span>
                            <span class="change-location">line 100-100</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-3e458fac')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-3e458fac')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-3e458fac" data-type="Added" data-kind="Property" data-name="EnableMetrics" data-old-line="" data-new-line="100" data-old-content="" data-new-content="public bool EnableMetrics { get; set; } = true;">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line">
                                <span class="line-number">-</span>
                                <span class="line-content">(none)</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">100</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">bool</span> EnableMetrics { <span class="keyword">get</span>; <span class="keyword">set</span>; } = <span class="keyword">true</span>;</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="change-section" style="margin-left: 40px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-adedcd7f')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-added">Added</span>
                            <span class="change-kind">Method</span>
                            <span class="change-name">Validate</span>
                            <span class="tfm-badge">.NET 10.0</span>
                            <span class="change-location">line 104-110</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-adedcd7f')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-adedcd7f')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-adedcd7f" data-type="Added" data-kind="Method" data-name="Validate" data-old-line="" data-new-line="104" data-old-content="" data-new-content="public void Validate()
{
    if (string.IsNullOrEmpty(ApiBaseUrl))
        throw new InvalidOperationException(&quot;ApiBaseUrl is required&quot;);
    if (string.IsNullOrEmpty(ApiKey))
        throw new InvalidOperationException(&quot;ApiKey is required&quot;);
}">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line">
                                <span class="line-number">-</span>
                                <span class="line-content">(none)</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">104</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">void</span> Validate()</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">105</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">106</span>
                                <span class="line-content">    <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrEmpty(ApiBaseUrl))</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">107</span>
                                <span class="line-content">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvalidOperationException</span>(<span class="string">&quot;ApiBaseUrl <span class="keyword">is</span> <span class="keyword">required</span>&quot;</span>);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">108</span>
                                <span class="line-content">    <span class="keyword">if</span> (<span class="keyword">string</span>.IsNullOrEmpty(ApiKey))</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">109</span>
                                <span class="line-content">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">InvalidOperationException</span>(<span class="string">&quot;ApiKey <span class="keyword">is</span> <span class="keyword">required</span>&quot;</span>);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">110</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                <div class="change-section" style="margin-left: 20px">
                    <div class="change-header">
                        <div class="change-title" onclick="toggleChange('change-a883fcc5')">
                            <span class="expand-icon">â–¼</span>
                            <span class="change-badge badge-added">Added</span>
                            <span class="change-kind">Class</span>
                            <span class="change-name">MetricsCollector</span>
                            <span class="tfm-badge">.NET 10.0</span>
                            <span class="change-location">line 117-130</span>
                            <span class="impact-indicator impact-breaking-public">BREAKING PUBLIC API</span>
                        </div>
                        <div class="copy-buttons" onclick="event.stopPropagation()">
                            <button class="copy-btn" onclick="copyAsJson('change-a883fcc5')" title="Copy as JSON">JSON</button>
                            <button class="copy-btn" onclick="copyAsDiff('change-a883fcc5')" title="Copy as diff">Diff</button>
                        </div>
                    </div>
                    <div class="change-body" id="change-a883fcc5" data-type="Added" data-kind="Class" data-name="MetricsCollector" data-old-line="" data-new-line="117" data-old-content="" data-new-content="public class MetricsCollector
{
    private readonly TimeProvider _timeProvider;
    public MetricsCollector(TimeProvider timeProvider)
    {
        _timeProvider = timeProvider;
    }

    public void RecordRequest(string endpoint, TimeSpan duration)
    {
        Console.WriteLine($&quot;[{_timeProvider.GetUtcNow()}] {endpoint}: {duration.TotalMilliseconds}ms&quot;);
    }
}">
                        <div class="diff-container">
                            <div class="diff-side diff-old">
                                <div class="diff-side-header">Before</div>
                                <div class="diff-content">
                            <div class="diff-line">
                                <span class="line-number">-</span>
                                <span class="line-content">(none)</span>
                            </div>
                                </div>
                            </div>
                            <div class="diff-side diff-new">
                                <div class="diff-side-header">After</div>
                                <div class="diff-content">
                            <div class="diff-line line-added">
                                <span class="line-number">117</span>
                                <span class="line-content"><span class="keyword">public</span> <span class="keyword">class</span> MetricsCollector</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">118</span>
                                <span class="line-content">{</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">119</span>
                                <span class="line-content">    <span class="keyword">private</span> <span class="keyword">readonly</span> TimeProvider _timeProvider;</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">120</span>
                                <span class="line-content">    <span class="keyword">public</span> MetricsCollector(TimeProvider timeProvider)</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">121</span>
                                <span class="line-content">    {</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">122</span>
                                <span class="line-content">        _timeProvider = timeProvider;</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">123</span>
                                <span class="line-content">    }</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">124</span>
                                <span class="line-content"></span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">125</span>
                                <span class="line-content">    <span class="keyword">public</span> <span class="keyword">void</span> RecordRequest(<span class="keyword">string</span> endpoint, <span class="type">TimeSpan</span> duration)</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">126</span>
                                <span class="line-content">    {</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">127</span>
                                <span class="line-content">        Console.WriteLine($<span class="string">&quot;[{_timeProvider.GetUtcNow()}] {endpoint}: {duration.TotalMilliseconds}ms&quot;</span>);</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">128</span>
                                <span class="line-content">    }</span>
                            </div>
                            <div class="diff-line line-added">
                                <span class="line-number">129</span>
                                <span class="line-content">}</span>
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </section>
    </main>
    <div class="nav-container">
        <button class="nav-btn" onclick="scrollToTop()" title="Go to top">â†‘</button>
        <button class="nav-btn" onclick="prevChange()" title="Previous change">â–²</button>
        <button class="nav-btn" onclick="nextChange()" title="Next change">â–¼</button>
        <button class="nav-btn" onclick="expandAll()" title="Expand all">+</button>
        <button class="nav-btn" onclick="collapseAll()" title="Collapse all">-</button>
    </div>
</div>
